var wallet=function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t);function i(){}const r=t=>t;function o(t){return t()}function s(){return Object.create(null)}function a(t){t.forEach(o)}function c(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,...e){if(null==t)return i;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function h(t){let e;return u(t,(t=>e=t))(),e}function d(t,e,n){t.$$.on_destroy.push(u(e,n))}function f(t,e,n,i){if(t){const r=p(t,e,n,i);return t[0](r)}}function p(t,e,n,i){return t[1]&&i?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](i(e))):n.ctx}function g(t,e,n,i,r,o,s){const a=function(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}(e,i,r,o);if(a){const r=p(e,n,i,s);t.p(r,a)}}function m(t){return null==t?"":t}const v="undefined"!=typeof window;let w=v?()=>window.performance.now():()=>Date.now(),y=v?t=>requestAnimationFrame(t):i;const b=new Set;function _(t){b.forEach((e=>{e.c(t)||(b.delete(e),e.f())})),0!==b.size&&y(_)}function x(t,e){t.appendChild(e)}function k(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function E(t){return document.createElement(t)}function S(t){return document.createTextNode(t)}function T(){return S(" ")}function C(){return S("")}function P(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function M(t){return function(e){return e.preventDefault(),t.call(this,e)}}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function U(t){return""===t?null:+t}function L(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function R(t,e){t.value=null==e?"":e}function O(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}const D=new Set;let B,I=0;function N(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-i.length;r&&(t.style.animation=i.join(", "),I-=r,I||y((()=>{I||(D.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),D.clear())})))}function j(t,e,n,o){if(!e)return i;const s=t.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return i;const{delay:a=0,duration:c=300,easing:l=r,start:u=w()+a,end:h=u+c,tick:d=i,css:f}=n(t,{from:e,to:s},o);let p,g=!0,m=!1;function v(){f&&N(t,p),g=!1}return function(t){let e;0===b.size&&y(_),new Promise((n=>{b.add(e={c:t,f:n})}))}((t=>{if(!m&&t>=u&&(m=!0),m&&t>=h&&(d(1,0),v()),!g)return!1;if(m){const e=0+1*l((t-u)/c);d(e,1-e)}return!0})),f&&(p=function(t,e,n,i,r,o,s,a=0){const c=16.666/i;let l="{\n";for(let t=0;t<=1;t+=c){const i=e+(n-e)*o(t);l+=100*t+`%{${s(i,1-i)}}\n`}const u=l+`100% {${s(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,d=t.ownerDocument;D.add(d);const f=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(E("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[h]||(p[h]=!0,f.insertRule(`@keyframes ${h} ${u}`,f.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${h} ${i}ms linear ${r}ms 1 both`,I+=1,h}(t,0,1,c,a,l,f)),a||(m=!0),d(0,1),v}function Y(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:i}=e,r=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=i,function(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const i=getComputedStyle(t),r="none"===i.transform?"":i.transform;t.style.transform=`${r} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}(t,r)}}function q(t){B=t}function H(){if(!B)throw new Error("Function called outside component initialization");return B}function W(t){H().$$.on_mount.push(t)}function z(){const t=H();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const r=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);i.slice().forEach((e=>{e.call(t,r)}))}}}function G(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const K=[],F=[],J=[],X=[],Q=Promise.resolve();let V=!1;function Z(t){J.push(t)}let tt=!1;const et=new Set;function nt(){if(!tt){tt=!0;do{for(let t=0;t<K.length;t+=1){const e=K[t];q(e),it(e.$$)}for(q(null),K.length=0;F.length;)F.pop()();for(let t=0;t<J.length;t+=1){const e=J[t];et.has(e)||(et.add(e),e())}J.length=0}while(K.length);for(;X.length;)X.pop()();V=!1,tt=!1,et.clear()}}function it(t){if(null!==t.fragment){t.update(),a(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Z)}}const rt=new Set;let ot;function st(){ot={r:0,c:[],p:ot}}function at(){ot.r||a(ot.c),ot=ot.p}function ct(t,e){t&&t.i&&(rt.delete(t),t.i(e))}function lt(t,e,n,i){if(t&&t.o){if(rt.has(t))return;rt.add(t),ot.c.push((()=>{rt.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}function ut(t,e){t.f(),function(t,e){t.d(1),e.delete(t.key)}(t,e)}function ht(t){t&&t.c()}function dt(t,e,n){const{fragment:i,on_mount:r,on_destroy:s,after_update:l}=t.$$;i&&i.m(e,n),Z((()=>{const e=r.map(o).filter(c);s?s.push(...e):a(e),t.$$.on_mount=[]})),l.forEach(Z)}function ft(t,e){const n=t.$$;null!==n.fragment&&(a(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pt(t,e){-1===t.$$.dirty[0]&&(K.push(t),V||(V=!0,Q.then(nt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function gt(t,e,n,r,o,c,l=[-1]){const u=B;q(t);const h=t.$$={fragment:null,ctx:null,props:c,update:i,not_equal:o,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:l,skip_bound:!1};let d=!1;if(h.ctx=n?n(t,e.props||{},((e,n,...i)=>{const r=i.length?i[0]:n;return h.ctx&&o(h.ctx[e],h.ctx[e]=r)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](r),d&&pt(t,e)),n})):[],h.update(),d=!0,a(h.before_update),h.fragment=!!r&&r(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach($)}else h.fragment&&h.fragment.c();e.intro&&ct(t.$$.fragment),dt(t,e.target,e.anchor),nt()}q(u)}class mt{$destroy(){ft(this,1),this.$destroy=i}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const vt=[];function wt(t,e=i){let n;const r=[];function o(e){if(l(t,e)&&(t=e,n)){const e=!vt.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),vt.push(n,t)}if(e){for(let t=0;t<vt.length;t+=2)vt[t][0](vt[t+1]);vt.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(s,a=i){const c=[s,a];return r.push(c),1===r.length&&(n=e(o)||i),s(t),()=>{const t=r.indexOf(c);-1!==t&&r.splice(t,1),0===r.length&&(n(),n=null)}}}}function yt(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}function bt(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})})),e}function _t(){}function xt(){xt.init.call(this)}function kt(t){return void 0===t._maxListeners?xt.defaultMaxListeners:t._maxListeners}function $t(t,e,n){if(e)t.call(n);else for(var i=t.length,r=Ut(t,i),o=0;o<i;++o)r[o].call(n)}function Et(t,e,n,i){if(e)t.call(n,i);else for(var r=t.length,o=Ut(t,r),s=0;s<r;++s)o[s].call(n,i)}function St(t,e,n,i,r){if(e)t.call(n,i,r);else for(var o=t.length,s=Ut(t,o),a=0;a<o;++a)s[a].call(n,i,r)}function Tt(t,e,n,i,r,o){if(e)t.call(n,i,r,o);else for(var s=t.length,a=Ut(t,s),c=0;c<s;++c)a[c].call(n,i,r,o)}function Ct(t,e,n,i){if(e)t.apply(n,i);else for(var r=t.length,o=Ut(t,r),s=0;s<r;++s)o[s].apply(n,i)}function Pt(t,e,n,i){var r,o,s,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=t._events)?(o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]):(o=t._events=new _t,t._eventsCount=0),s){if("function"==typeof s?s=o[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),!s.warned&&(r=kt(t))&&r>0&&s.length>r){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a=c,"function"==typeof console.warn?console.warn(a):console.log(a)}}else s=o[e]=n,++t._eventsCount;return t}function Mt(t,e,n){var i=!1;function r(){t.removeListener(e,r),i||(i=!0,n.apply(t,arguments))}return r.listener=n,r}function At(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function Ut(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}_t.prototype=Object.create(null),xt.EventEmitter=xt,xt.usingDomains=!1,xt.prototype.domain=void 0,xt.prototype._events=void 0,xt.prototype._maxListeners=void 0,xt.defaultMaxListeners=10,xt.init=function(){this.domain=null,xt.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new _t,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},xt.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},xt.prototype.getMaxListeners=function(){return kt(this)},xt.prototype.emit=function(t){var e,n,i,r,o,s,a,c="error"===t;if(s=this._events)c=c&&null==s.error;else if(!c)return!1;if(a=this.domain,c){if(e=arguments[1],!a){if(e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}return e||(e=new Error('Uncaught, unspecified "error" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit("error",e),!1}if(!(n=s[t]))return!1;var u="function"==typeof n;switch(i=arguments.length){case 1:$t(n,u,this);break;case 2:Et(n,u,this,arguments[1]);break;case 3:St(n,u,this,arguments[1],arguments[2]);break;case 4:Tt(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(i-1),o=1;o<i;o++)r[o-1]=arguments[o];Ct(n,u,this,r)}return!0},xt.prototype.addListener=function(t,e){return Pt(this,t,e,!1)},xt.prototype.on=xt.prototype.addListener,xt.prototype.prependListener=function(t,e){return Pt(this,t,e,!0)},xt.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,Mt(this,t,e)),this},xt.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,Mt(this,t,e)),this},xt.prototype.removeListener=function(t,e){var n,i,r,o,s;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(n=i[t]))return this;if(n===e||n.listener&&n.listener===e)0==--this._eventsCount?this._events=new _t:(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){s=n[o].listener,r=o;break}if(r<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new _t,this;delete i[t]}else!function(t,e){for(var n=e,i=n+1,r=t.length;i<r;n+=1,i+=1)t[n]=t[i];t.pop()}(n,r);i.removeListener&&this.emit("removeListener",t,s||e)}return this},xt.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new _t,this._eventsCount=0):n[t]&&(0==--this._eventsCount?this._events=new _t:delete n[t]),this;if(0===arguments.length){for(var i,r=Object.keys(n),o=0;o<r.length;++o)"removeListener"!==(i=r[o])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=new _t,this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(e)do{this.removeListener(t,e[e.length-1])}while(e[0]);return this},xt.prototype.listeners=function(t){var e,n=this._events;return n&&(e=n[t])?"function"==typeof e?[e.listener||e]:function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(e):[]},xt.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):At.call(t,e)},xt.prototype.listenerCount=At,xt.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Lt=Object.freeze({__proto__:null,default:xt,EventEmitter:xt}),Rt="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Ot=[],Dt=[],Bt="undefined"!=typeof Uint8Array?Uint8Array:Array,It=!1;function Nt(){It=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)Ot[e]=t[e],Dt[t.charCodeAt(e)]=e;Dt["-".charCodeAt(0)]=62,Dt["_".charCodeAt(0)]=63}function jt(t,e,n){for(var i,r,o=[],s=e;s<n;s+=3)i=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(Ot[(r=i)>>18&63]+Ot[r>>12&63]+Ot[r>>6&63]+Ot[63&r]);return o.join("")}function Yt(t){var e;It||Nt();for(var n=t.length,i=n%3,r="",o=[],s=16383,a=0,c=n-i;a<c;a+=s)o.push(jt(t,a,a+s>c?c:a+s));return 1===i?(e=t[n-1],r+=Ot[e>>2],r+=Ot[e<<4&63],r+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],r+=Ot[e>>10],r+=Ot[e>>4&63],r+=Ot[e<<2&63],r+="="),o.push(r),o.join("")}function qt(t,e,n,i,r){var o,s,a=8*r-i-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?r-1:0,d=n?-1:1,f=t[e+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+t[e+h],h+=d,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,i),o-=l}return(f?-1:1)*s*Math.pow(2,o-i)}function Ht(t,e,n,i,r,o){var s,a,c,l=8*o-r-1,u=(1<<l)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*c-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+f]=255&a,f+=p,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[n+f]=255&s,f+=p,s/=256,l-=8);t[n+f-p]|=128*g}var Wt={}.toString,zt=Array.isArray||function(t){return"[object Array]"==Wt.call(t)};Jt.TYPED_ARRAY_SUPPORT=void 0===Rt.TYPED_ARRAY_SUPPORT||Rt.TYPED_ARRAY_SUPPORT;var Gt=Kt();function Kt(){return Jt.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Ft(t,e){if(Kt()<e)throw new RangeError("Invalid typed array length");return Jt.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Jt.prototype:(null===t&&(t=new Jt(e)),t.length=e),t}function Jt(t,e,n){if(!(Jt.TYPED_ARRAY_SUPPORT||this instanceof Jt))return new Jt(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return Vt(this,t)}return Xt(this,t,e,n)}function Xt(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);Jt.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Jt.prototype:t=Zt(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!Jt.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|ne(e,n),r=(t=Ft(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(ee(e)){var n=0|te(e.length);return 0===(t=Ft(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?Ft(t,0):Zt(t,e);if("Buffer"===e.type&&zt(e.data))return Zt(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function Qt(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Vt(t,e){if(Qt(e),t=Ft(t,e<0?0:0|te(e)),!Jt.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function Zt(t,e){var n=e.length<0?0:0|te(e.length);t=Ft(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function te(t){if(t>=Kt())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Kt().toString(16)+" bytes");return 0|t}function ee(t){return!(null==t||!t._isBuffer)}function ne(t,e){if(ee(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Pe(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Me(t).length;default:if(i)return Pe(t).length;e=(""+e).toLowerCase(),i=!0}}function ie(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return we(this,e,n);case"utf8":case"utf-8":return pe(this,e,n);case"ascii":return me(this,e,n);case"latin1":case"binary":return ve(this,e,n);case"base64":return fe(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function re(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function oe(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=Jt.from(e,i)),ee(e))return 0===e.length?-1:se(t,e,n,i,r);if("number"==typeof e)return e&=255,Jt.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):se(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function se(t,e,n,i,r){var o,s=1,a=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var u=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var h=!0,d=0;d<c;d++)if(l(t,o+d)!==l(e,d)){h=!1;break}if(h)return o}return-1}function ae(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function ce(t,e,n,i){return Ae(Pe(e,t.length-n),t,n,i)}function le(t,e,n,i){return Ae(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function ue(t,e,n,i){return le(t,e,n,i)}function he(t,e,n,i){return Ae(Me(e),t,n,i)}function de(t,e,n,i){return Ae(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)i=(n=t.charCodeAt(s))>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function fe(t,e,n){return 0===e&&n===t.length?Yt(t):Yt(t.slice(e,n))}function pe(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,c,l=t[r],u=null,h=l>239?4:l>223?3:l>191?2:1;if(r+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(o=t[r+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(c=(15&l)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=h}return function(t){var e=t.length;if(e<=ge)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=ge));return n}(i)}Jt.poolSize=8192,Jt._augment=function(t){return t.__proto__=Jt.prototype,t},Jt.from=function(t,e,n){return Xt(null,t,e,n)},Jt.TYPED_ARRAY_SUPPORT&&(Jt.prototype.__proto__=Uint8Array.prototype,Jt.__proto__=Uint8Array),Jt.alloc=function(t,e,n){return function(t,e,n,i){return Qt(e),e<=0?Ft(t,e):void 0!==n?"string"==typeof i?Ft(t,e).fill(n,i):Ft(t,e).fill(n):Ft(t,e)}(null,t,e,n)},Jt.allocUnsafe=function(t){return Vt(null,t)},Jt.allocUnsafeSlow=function(t){return Vt(null,t)},Jt.isBuffer=Ue,Jt.compare=function(t,e){if(!ee(t)||!ee(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},Jt.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Jt.concat=function(t,e){if(!zt(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Jt.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=Jt.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var o=t[n];if(!ee(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},Jt.byteLength=ne,Jt.prototype._isBuffer=!0,Jt.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)re(this,e,e+1);return this},Jt.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)re(this,e,e+3),re(this,e+1,e+2);return this},Jt.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)re(this,e,e+7),re(this,e+1,e+6),re(this,e+2,e+5),re(this,e+3,e+4);return this},Jt.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?pe(this,0,t):ie.apply(this,arguments)},Jt.prototype.equals=function(t){if(!ee(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Jt.compare(this,t)},Jt.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Jt.prototype.compare=function(t,e,n,i,r){if(!ee(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(i,r),l=t.slice(e,n),u=0;u<a;++u)if(c[u]!==l[u]){o=c[u],s=l[u];break}return o<s?-1:s<o?1:0},Jt.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},Jt.prototype.indexOf=function(t,e,n){return oe(this,t,e,n,!0)},Jt.prototype.lastIndexOf=function(t,e,n){return oe(this,t,e,n,!1)},Jt.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return ae(this,t,e,n);case"utf8":case"utf-8":return ce(this,t,e,n);case"ascii":return le(this,t,e,n);case"latin1":case"binary":return ue(this,t,e,n);case"base64":return he(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},Jt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ge=4096;function me(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function ve(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function we(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=Ce(t[o]);return r}function ye(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function be(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function _e(t,e,n,i,r,o){if(!ee(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function xe(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function ke(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function $e(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Ee(t,e,n,i,r){return r||$e(t,0,n,4),Ht(t,e,n,i,23,4),n+4}function Se(t,e,n,i,r){return r||$e(t,0,n,8),Ht(t,e,n,i,52,8),n+8}Jt.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),Jt.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=Jt.prototype;else{var r=e-t;n=new Jt(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},Jt.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||be(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},Jt.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||be(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},Jt.prototype.readUInt8=function(t,e){return e||be(t,1,this.length),this[t]},Jt.prototype.readUInt16LE=function(t,e){return e||be(t,2,this.length),this[t]|this[t+1]<<8},Jt.prototype.readUInt16BE=function(t,e){return e||be(t,2,this.length),this[t]<<8|this[t+1]},Jt.prototype.readUInt32LE=function(t,e){return e||be(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Jt.prototype.readUInt32BE=function(t,e){return e||be(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Jt.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||be(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},Jt.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||be(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},Jt.prototype.readInt8=function(t,e){return e||be(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Jt.prototype.readInt16LE=function(t,e){e||be(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},Jt.prototype.readInt16BE=function(t,e){e||be(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},Jt.prototype.readInt32LE=function(t,e){return e||be(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Jt.prototype.readInt32BE=function(t,e){return e||be(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Jt.prototype.readFloatLE=function(t,e){return e||be(t,4,this.length),qt(this,t,!0,23,4)},Jt.prototype.readFloatBE=function(t,e){return e||be(t,4,this.length),qt(this,t,!1,23,4)},Jt.prototype.readDoubleLE=function(t,e){return e||be(t,8,this.length),qt(this,t,!0,52,8)},Jt.prototype.readDoubleBE=function(t,e){return e||be(t,8,this.length),qt(this,t,!1,52,8)},Jt.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||_e(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},Jt.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||_e(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},Jt.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||_e(this,t,e,1,255,0),Jt.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Jt.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||_e(this,t,e,2,65535,0),Jt.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):xe(this,t,e,!0),e+2},Jt.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||_e(this,t,e,2,65535,0),Jt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):xe(this,t,e,!1),e+2},Jt.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||_e(this,t,e,4,4294967295,0),Jt.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):ke(this,t,e,!0),e+4},Jt.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||_e(this,t,e,4,4294967295,0),Jt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):ke(this,t,e,!1),e+4},Jt.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);_e(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},Jt.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);_e(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},Jt.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||_e(this,t,e,1,127,-128),Jt.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Jt.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||_e(this,t,e,2,32767,-32768),Jt.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):xe(this,t,e,!0),e+2},Jt.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||_e(this,t,e,2,32767,-32768),Jt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):xe(this,t,e,!1),e+2},Jt.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||_e(this,t,e,4,2147483647,-2147483648),Jt.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):ke(this,t,e,!0),e+4},Jt.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||_e(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Jt.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):ke(this,t,e,!1),e+4},Jt.prototype.writeFloatLE=function(t,e,n){return Ee(this,t,e,!0,n)},Jt.prototype.writeFloatBE=function(t,e,n){return Ee(this,t,e,!1,n)},Jt.prototype.writeDoubleLE=function(t,e,n){return Se(this,t,e,!0,n)},Jt.prototype.writeDoubleBE=function(t,e,n){return Se(this,t,e,!1,n)},Jt.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!Jt.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},Jt.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!Jt.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=ee(t)?t:Pe(new Jt(t,i).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var Te=/[^+\/0-9A-Za-z-_]/g;function Ce(t){return t<16?"0"+t.toString(16):t.toString(16)}function Pe(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Me(t){return function(t){var e,n,i,r,o,s;It||Nt();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[a-2]?2:"="===t[a-1]?1:0,s=new Bt(3*a/4-o),i=o>0?a-4:a;var c=0;for(e=0,n=0;e<i;e+=4,n+=3)r=Dt[t.charCodeAt(e)]<<18|Dt[t.charCodeAt(e+1)]<<12|Dt[t.charCodeAt(e+2)]<<6|Dt[t.charCodeAt(e+3)],s[c++]=r>>16&255,s[c++]=r>>8&255,s[c++]=255&r;return 2===o?(r=Dt[t.charCodeAt(e)]<<2|Dt[t.charCodeAt(e+1)]>>4,s[c++]=255&r):1===o&&(r=Dt[t.charCodeAt(e)]<<10|Dt[t.charCodeAt(e+1)]<<4|Dt[t.charCodeAt(e+2)]>>2,s[c++]=r>>8&255,s[c++]=255&r),s}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(Te,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Ae(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function Ue(t){return null!=t&&(!!t._isBuffer||Le(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Le(t.slice(0,0))}(t))}function Le(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Re=bt(Object.freeze({__proto__:null,Buffer:Jt,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),Jt.alloc(+t)},isBuffer:Ue,kMaxLength:Gt})),Oe=yt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SignedMessage=void 0;const i=Re.Buffer.from("Bitcoin Signed Message:\n"),r=n.default.Bw.varIntBufNum(i.length);e.SignedMessage=class{constructor(t){this.from="",this.to=[],this.reply="",this.subject="",this.context=[],this.payload="",this.ts=Date.now(),Object.assign(this,t)}get hash(){const t=Re.Buffer.concat([Re.Buffer.from(this.to.join(":")),Re.Buffer.from(this.reply||""),Re.Buffer.from(this.subject),Re.Buffer.from(this.context.join(":")),n.default.Bw.varIntBufNum(this.ts),Re.Buffer.from(this.payload||"")]),e=Re.Buffer.concat([r,i,n.default.Bw.varIntBufNum(t.length),t]);return n.default.Hash.sha256Sha256(e)}get id(){return this.hash.toString("hex")}get payloadObj(){return this.payload&&JSON.parse(this.payload)}sign(t){this.from=t.pubKey.toString(),this.ts=Date.now(),this.sig=n.default.Ecdsa.sign(this.hash,t).toString()}async verify(){return n.default.Ecdsa.asyncVerify(this.hash,n.default.Sig.fromString(this.sig),n.default.PubKey.fromString(this.from))}}})),De=bt(Lt),Be=yt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Wallet=void 0;class i extends De.EventEmitter{constructor(t,e,i){super(),this.paymail=t,this.keyPair=e,this.timeouts=new Map,this.intervals=new Map,this.blockchain=i.blockchain,this.ownerPair=n.default.KeyPair.fromPrivKey(n.default.PrivKey.fromString(i.owner.privkey)),this.pubkey=e.pubKey.toHex(),this.address=i.owner.address,this.purse=i.purse.address,[this.handle]=t.split("@"),this.load=i.load.bind(i),this.createTransaction=()=>new i.constructor.Transaction,this.loadTransaction=t=>i.import(t),this.getTxPayload=t=>i.payload(t),console.log(`PAYMAIL: ${t}`),console.log(`PUBKEY: ${e.pubKey.toString()}`),console.log(`ADDRESS: ${this.address}`),console.log(`PURSE: ${this.purse}`)}get now(){return Date.now()}async loadJigIndex(t){return this.blockchain.jigIndex(this.address,t)}async loadJig(t){return await this.load(t).catch((e=>{if(!e.message.match(/not a/i))throw console.error("Load error:",t,e.message),e}))}async loadJigs(){const t=await this.loadJigIndex(),e=await Promise.all(t.map((t=>this.loadJig(t.location))));return console.log("JIGS:",e.length),e}buildMessage(t,e=!0){t.ts=Date.now(),t.from=this.keyPair.pubKey.toString();const n=new Oe.SignedMessage(t);return e&&n.sign(this.keyPair),n}async encrypt(t){}async decrypt(t){}async verifySig(t,e,i){const r=await n.default.Hash.asyncSha256(Re.Buffer.from(e)),o=n.default.Ecdsa.verify(r,n.default.Sig.fromString(t),n.default.PubKey.fromString(i));return console.log("SIG:",o,t,e,i),o}randomInt(t){return Math.floor(Math.random()*(t||Number.MAX_SAFE_INTEGER))}randomBytes(t){return n.default.Random.getRandomBuffer(t).toString("hex")}setTimeout(t,e){const n=Date.now();return this.timeouts.set(n,setTimeout((async()=>t().catch((t=>console.error("Timeout Error",t)))),e)),n}clearTimeout(t){this.timeouts.has(t)&&clearTimeout(this.timeouts.get(t))}setInterval(t,e){const n=Date.now();return this.intervals.set(n,setInterval((async()=>t().catch((t=>console.error("Timeout Error",t)))),e)),n}clearInterval(t){this.intervals.has(t)&&clearInterval(this.intervals.get(t))}}e.Wallet=i})),Ie=yt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.HttpError=void 0;class n extends Error{constructor(t,...e){super(...e),this.status=t}}e.HttpError=n})),Ne=yt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RestBlockchain=void 0;e.RestBlockchain=class{constructor(t,e,n,i=new Map,r=!1){this.fetchLib=t,this.apiUrl=e,this.network=n,this.cache=i,this.debug=r,this.requests=new Map}get bsvNetwork(){switch(this.network){case"stn":return"stn";case"main":return"mainnet";default:return"testnet"}}async broadcast(t){this.debug&&console.log("BROADCAST:",t);const e=await this.fetchLib(`${this.apiUrl}/broadcast`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rawtx:t})});if(!e.ok)throw new Ie.HttpError(e.status,await e.text());const n=await e.text();return this.debug&&console.log("Broadcast:",n),await this.cache.set(`tx://${n}`,t),n}async retrieveOutputs(t){return Promise.all(t.txIns.map((async t=>{const e=new n.default.Br(t.txHashBuf).readReverse().toString("hex"),i=n.default.Tx.fromHex(await this.fetch(e));return{location:`${e}_o${t.txOutNum}`,script:i.toOuts[t.txOutNum].script.toString()}})))}async fetch(t){this.debug&&console.log("FETCH:",t);let e=await this.cache.get(`tx://${t}`);if(e)return e;if(!this.requests.has(t)){const n=Promise.resolve().then((async()=>{const n=await this.fetchLib(`${this.apiUrl}/tx/${t}`);if(!n.ok)throw new Ie.HttpError(n.status,await n.text());return e=await n.text(),await this.cache.set(`tx://${t}`,e),this.requests.delete(t),e}));this.requests.set(t,n)}return this.requests.get(t)}async time(t){return Date.now()}async spends(t,e){this.debug&&console.log("SPENDS:",t,e);const n=`spend://${t}_${e}`;let i=await this.cache.get(n);if(i)return i;if(!this.requests.has(n)){const r=(async()=>{const r=await this.fetchLib(`${this.apiUrl}/spends/${t}_o${e}`);if(!r.ok)throw new Ie.HttpError(r.status,await r.text());return i=await r.text()||null,i&&await this.cache.set(n,i),this.requests.delete(n),i})();this.requests.set(n,r)}return this.requests.get(n)}async utxos(t,e=1e3){this.debug&&console.log("UTXOS:",t);const n=await this.fetchLib(`${this.apiUrl}/utxos/script/${t}?limit=${e}`);if(!n.ok)throw new Error(await n.text());return n.json()}async jigIndex(t,e,n="address"){const i=`${this.apiUrl}/jigs/${n}/${t}`,r=await this.fetchLib(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw new Error(`${r.status} ${r.statusText}`);return r.json()}async loadJigData(t,e=!1){const n=await this.fetchLib(`${this.apiUrl}/jigs/${t}?unspent=${e?"true":""}`);if(!n.ok)throw new Error(`${n.status} ${n.statusText}`);return n.json()}async jigQuery(t){const e=await this.fetchLib(`${this.apiUrl}/jigs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Ie.HttpError(e.status,await e.text());return e.json()}async fund(t,e){const n=await this.fetchLib(`${this.apiUrl}/fund/${t}${e?`?satoshis=${e}`:""}`);if(!n.ok)throw new Ie.HttpError(n.status,await n.text());return n.text()}async loadMessage(t){const e=await this.fetchLib(`${this.apiUrl}/messages/${t}`);if(!e.ok)throw new Ie.HttpError(e.status,await e.text());return new Oe.SignedMessage(await e.json())}async sendMessage(t,e){const n=e||`${this.apiUrl}/messages`;console.log("Post TO:",n);const i=await this.fetchLib(n,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)});if(!i.ok)throw new Ie.HttpError(i.status,await i.text());return i.json()}}})),je=yt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RestStateCache=void 0;e.RestStateCache=class{constructor(t,e,n=new Map,i=!1){this.fetch=t,this.apiUrl=e,this.cache=n,this.debug=i,this.requests=new Map}async get(t){this.debug&&console.log("State:",t);let e=await this.cache.get(t);if(e)return this.debug&&console.log("Cache Hit:",t),e;if(!this.requests.has(t)){const n=(async()=>{const n=await this.fetch(`${this.apiUrl}/state/${encodeURIComponent(t)}`);if(!n.ok){if(404===n.status)return void(this.debug&&console.log("Remote Miss:",t));throw new Ie.HttpError(n.status,n.statusText)}return this.debug&&console.log("Remote Hit:",t),e=await n.json(),await this.cache.set(t,e),this.requests.delete(t),e})();this.requests.set(t,n)}return this.requests.get(t)}async set(t,e){await this.cache.set(t,e)}}}));class Ye{constructor(t,e,n){this.apiUrl=t,this.domain=e,this.network=n}async createKey(e,n){const i=await t.Hash.asyncSha256(Jt.from(`${this.domain}|${e}`)),r=await t.Hash.asyncSha256(Jt.from(n.normalize("NFKC"))),{hash:o}=await argon2.hash({pass:r,salt:i,time:100,mem:1024,hashLen:32});return Jt.from(o)}async register(e,n,i){e=e.toLowerCase().normalize("NFKC");const r=await this.createKey(e,n),o="main"===this.network?t.Constants.Mainnet.PrivKey.versionByteNum:t.Constants.Testnet.PrivKey.versionByteNum,s=Jt.concat([Jt.from([o]),r,Jt.from([1])]),a=(new t.PrivKey).fromBuffer(s),c=t.KeyPair.fromPrivKey(a),l=t.PubKey.fromPrivKey(a),u=t.Bip32.fromRandom(),h=await t.Ecies.asyncBitcoreEncrypt(Jt.from(u.toString()),l,c),d={pubkey:l.toString(),xpub:u.toPublic().toString(),recovery:h.toString("base64"),email:i},f=Jt.from(`${this.domain}|${e}|${d.xpub}|${d.recovery}|${i}`),p=await t.Hash.asyncSha256(f),g=t.Ecdsa.sign(p,c);d.sig=g.toString();const m=`${this.apiUrl}/api/accounts/${e}@${this.domain}`;console.log(m);const v=await fetch(m,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(d)});if(!v.ok)throw console.error(v.status,v.statusText),new Error("Registration Failed");return c}async login(e,n){e=e.toLowerCase().normalize("NFKC");const i=await this.createKey(e,n),r="main"===this.network?t.Constants.Mainnet.PrivKey.versionByteNum:t.Constants.Testnet.PrivKey.versionByteNum,o=Jt.concat([Jt.from([r]),i,Jt.from([1])]),s=(new t.PrivKey).fromBuffer(o);return t.KeyPair.fromPrivKey(s)}async recover(e,n){const i=new Oe.SignedMessage({from:n.pubKey.toString()});i.sign(n);const r=`${this.apiUrl}/api/accounts/${encodeURIComponent(e)}/recover`;console.log(r);const o=await fetch(r,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(i)});if(!o.ok){if(403===o.status)throw new Error(`${o.status} - Invalid Credentials`);throw new Error(`${o.status} - ${o.statusText}`)}const s=await o.json();return t.Ecies.bitcoreDecrypt(Jt.from(s,"base64"),n.privKey).toString()}async isHandleAvailable(t){t=t.toLowerCase();const e=`${this.apiUrl}/api/bsvalias/id/${encodeURIComponent(t)}@${this.domain}`;console.log("Requesting:",e);try{return 404===(await fetch(e)).status}catch(t){return console.error("Error Fetching",t.message),!1}}}var qe=yt((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.WSClient=void 0;class n extends De.EventEmitter{constructor(t,e,n=[]){super(),this.client=t,this.url=e,this.lastIds=new Map,this.channels=new Set(n),this.socket=this.connect()}connect(){const t=new this.client(this.url);return t.onopen=()=>{t.onmessage=t=>{const{id:e,channel:n,event:i,data:r}=JSON.parse(t.data);e>(this.lastIds.get(n)||0)&&this.lastIds.set(n,e),this.emit(i,r,n)},Array.from(this.channels).forEach((t=>this.subscribe(t)))},t.onerror=console.error,t.onclose=()=>{this.socket=this.connect()},t}subscribe(t,e){this.channels.add(t),this.socket&&1===this.socket.readyState&&this.socket.send(JSON.stringify({action:"subscribe",channelId:t,lastId:e||this.lastIds.get(t)||null}))}unsubscribe(t){this.channels.delete(t),this.socket&&1===this.socket.readyState&&this.socket.send(JSON.stringify({action:"unsubscribe",channelId:t}))}close(){this.socket.close()}}e.WSClient=n}));n.default.Constants.Default=t.Constants.Default;const He=wt("/"),We=wt("Guest"),ze=wt(0),Ge=wt(!1),Ke=wt(!1),Fe=wt("menuMode");let Je=0;const Xe={subscribe:wt(new class extends xt{constructor(){super(),this.authenticated=!1,this.printLog=console.log.bind(console),this.printError=console.error.bind(console),this.logId=0,this.logs=[],this.sessionId=`${Date.now()}-${Math.random()*Number.MAX_SAFE_INTEGER}`,this.timeLabels={},this.gps=null,this.derivation="m",this.apiUrl="",this.domain=document.location.hash.slice(1).split("@")[1]}get channel(){const t=window.vuplex;return t||window}get channelScope(){const t=document.referrer;return t&&!this.isInUnity?t.match(/^.+:\/\/[^\/]+/)[0]:null}get isInUnity(){return!!window.vuplex}get handle(){return window.localStorage.getItem("HANDLE")||""}set handle(t){window.localStorage.setItem("HANDLE",t)}get keyPair(){const e=window.localStorage.getItem("WIF");return e?t.KeyPair.fromPrivKey(t.PrivKey.fromString(e)):null}set keyPair(t){window.localStorage.setItem("WIF",t.privKey.toString())}get agentId(){return document.location.hash.slice(1).split("@")[0]}get paymail(){return`${this.handle}@${this.domain}`}async init(){let e=await fetch(`${this.apiUrl}/wallet/config`);const n=this.config=await e.json();console.log("Config:",JSON.stringify(n)),this.overrideConsole(),console.log("Run:",Run.version),t.Constants.Default="main"===n.network?t.Constants.Mainnet:t.Constants.Testnet,this.auth=new Ye(this.apiUrl,this.domain,n.network);let i=!1;for(;n.ephemeral&&!i;)await new Promise((t=>setTimeout((()=>t({})),5e3))),e=await fetch(`${this.apiUrl}/initialize`),i=e.ok&&await e.json();this.clientEmit("WALLET_READY"),this.channel.addEventListener("message",this.onClientEvent.bind(this)),console.log("BLOCKCHAIN:",this.apiUrl);const r=`${this.apiUrl}/agents/${this.domain}/${this.agentId}`;if(console.log("fetching:",r),e=await fetch(r),!e.ok)throw new Error(`${e.status} - ${e.statusText}`);if(this.agentDef=await e.json(),!this.agentDef)throw new Error("AGENT MISSING");if(n.errorLog&&setInterval((async()=>{const t=this.logs;if(this.logs=[],!t.length)return;const e=await fetch("/log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`${e.status} - ${e.statusText}`)}),5e3),this.agentDef.anonymous)return this.initializeWallet();if(!n.ephemeral&&!this.keyPair)return this.clientEmit("NO_KEYS"),this.show("home");try{await this.initializeUser(),this.show("menu")}catch(t){console.error("Login Error:",t.message),this.show("home")}}async initializeWallet(t,e){const i=new Run.plugins.BrowserCache({maxMemorySizeMB:100}),r=this.blockchain=new Ne.RestBlockchain(fetch.bind(window),this.apiUrl,this.config.network,i),o=new Run({network:this.config.network,owner:t,blockchain:r,purse:new Run.plugins.LocalPurse({privkey:e,blockchain:r,feePerKb:500}),cache:new je.RestStateCache(fetch.bind(window),this.apiUrl,i),app:this.config.app||"kronoverse",trust:"*",timeout:6e4,logger:{error:console.error}}),s=this.wallet=new Be.Wallet(this.paymail,this.keyPair,o),a=[this.keyPair.pubKey.toString()];let c;this.config.ephemeral&&(console.log("Ephemeral. Listening to owner",o.owner.address),a.push(o.owner.address)),this.config.sockets&&(console.log("Sockets:",this.config.sockets),c=new qe.WSClient(WebSocket,this.config.sockets,a)),console.log("DOMAIN:",this.domain),console.log("AGENT_ID:",this.agentId),console.log("LOC:",this.agentDef.location);const l=await o.load(this.agentDef.location),u=this.agent=new l(s,r,null,n.default,{fetch:fetch,Buffer:Jt,ws:c,SignedMessage:Oe.SignedMessage});u.on("client",this.clientEmit.bind(this)),u.on("subscribe",((t,e)=>{c.subscribe(t,e)})),u.on("unsubscribe",(t=>{c.unsubscribe(t)})),await u.init(),this.clientEmit("AGENT_LOADED"),c.on("jig",((t,e)=>{console.log("JIG:",JSON.stringify(t)),u.onJig(t).catch(console.error)})),c.on("msg",((t,e)=>{console.log("MSG:",JSON.stringify(t)),u.onMessage(new Oe.SignedMessage(t)).catch(console.error)}))}async initializeUser(e){let n;if(console.log("Initializing User"),e&&(this.handle=e),this.config.ephemeral)n=t.Bip32.fromRandom(),this.keyPair=t.KeyPair.fromPrivKey(n.privKey);else{console.log("Recovering account");const e=await this.auth.recover(this.paymail,this.keyPair);n=t.Bip32.fromString(e)}this.authenticated=!0,this.initializeWallet(n.derive(`${this.derivation}/1/0`).privKey.toString(),n.derive(`${this.derivation}/0/0`).privKey.toString())}async login(t,e,n="m"){this.derivation=n,this.keyPair=await this.auth.login(t,e),await this.initializeUser(t),this.show("menu")}async register(t,e,n,i="m"){this.derivation=i,this.keyPair=await this.auth.register(t,e,n),await this.initializeUser(t),this.show("menu")}async logout(){this.authenticated=!1,window.localStorage.removeItem("WIF"),window.localStorage.removeItem("HANDLE")}async blockInput(t,e,n,i){console.log("BlockInput",t,e,n,i),this.clientEmit("BlockInput",{x:t,y:e,width:n,height:i})}async getBalance(){if(!this.agent)return 0;const t=await this.agent.getBalance();return Math.round(t/1e4)/100}async getGpsLocation(){const t=12e5,e=this.gps;if(e&&Date.now()-e.timestamp<t)return e;let n=null;return this.isInUnity?(n=new Promise(((t,e)=>{const n=setTimeout((()=>e("GPS Timeout")),5e3);this.once("LocationUpdated",(e=>{clearTimeout(n),console.log("GPS:",e),this.gps=e,t(this.gps)}))})),this.clientEmit("LocationRequested")):n=new Promise(((e,n)=>{navigator.geolocation.getCurrentPosition((t=>{console.log("GPS:",t),this.gps={altitude:t.coords.altitude,longitude:t.coords.longitude,latitude:t.coords.latitude,horizontalAccuracy:0,verticalAccuracy:0,timestamp:Date.now()},e(this.gps)}),n,{maximumAge:t,timeout:5e3,enableHighAccuracy:!1})})),n}async show(t,e){this.emit("show",{viewName:t,message:e})}async onClientEvent(t){var e;const n={};if(!this.tryParseMessageData(t.data,n))return;["Register","Login"].includes(n.name)?console.log("WALLET RECEIVED EVENT:",n.name):console.log("WALLET RECEIVED EVENT:",JSON.stringify(n));const i={name:`On${n.name}`};try{const t=n.payload&&JSON.parse(n.payload);switch(n.name){case"Register":await this.register(t.handle,t.password,t.email,t.derivation);break;case"Login":await this.login(t.handle,t.password,t.derivation);break;case"Logout":await this.logout();break;case"GetBalance":i.payload=await(null===(e=this.agent)||void 0===e?void 0:e.getBalance());break;case"Cashout":if(!this.wallet)throw new Error("Wallet not initialized");this.clientEmit("BalanceUpdated",0);break;case"IsHandleAvailable":i.payload=JSON.stringify(await this.auth.isHandleAvailable(t));break;case"RegisterLocation":this.emit("LocationUpdated",t);break;default:if(!this.agent)throw new Error("Agent not initialized");const r=await this.agent.onEvent(n.name,t);i.payload=r&&JSON.stringify(r)}i.success=!0}catch(t){i.success=!1,i.payload=JSON.stringify(t.message),402===t.status?(console.log("Showing Cashier"),this.show("cashier",{body:"Insufficient Balance"})):410===t.status?i.payload=JSON.stringify("App Outdated. Please restart and try again."):i.statusCode=t.status||500}console.log(i.name,i.payload),this.postMessage(i)}tryParseMessageData(t,e){const n=e||{};return"string"==typeof t?Object.assign(n,JSON.parse(Jt.from(t,"base64").toString())):"object"==typeof t&&Object.assign(n,t),n&&n.name}clientEmit(t,e){const n={name:t,payload:e&&JSON.stringify(e),success:!0};this.logs.push({idx:this.logId++,sessionId:this.sessionId,handle:this.handle,type:"log",ts:Date.now(),message:{name:t,payload:e}}),this.emit(n.name,n.payload),this.postMessage(n)}postMessage(t){t.target="kronoverse",this.isInUnity?this.channel.postMessage(t):this.channelScope&&this.channel!==this.channel.parent&&this.channel.parent.postMessage(t,this.channelScope),["Log","Error"].includes(t.name)||console.log("Client Msg",t.name,t.payload)}overrideConsole(){console.log=(...t)=>{t.unshift(Date.now());const e=t.join(" ");this.logs.push({idx:this.logId++,sessionId:this.sessionId,paymail:this.paymail,type:"log",ts:Date.now(),message:e}),this.clientEmit("Log",e),this.printLog(...t)},console.error=(...t)=>{t.unshift(Date.now());const e=t.join(" ");this.logs.push({idx:this.logId++,sessionId:this.sessionId,paymail:this.paymail,type:"error",ts:Date.now(),message:e}),this.clientEmit("Error",e),this.printError(...t)},console.time=t=>{this.timeLabels[t]=Date.now()},console.timeEnd=t=>{console.log(`${t}: ${Date.now()-this.timeLabels[t]||0}ms`)}}},(t=>(console.log("Store Sub Count: "+Je++),()=>{}))).subscribe};function Qe(t){const e=t-1;return e*e*e+1}function Ve(t,e,n={}){const i=getComputedStyle(t),r="none"===i.transform?"":i.transform,o=e.from.width/t.clientWidth,s=e.from.height/t.clientHeight,a=(e.from.left-e.to.left)/o,l=(e.from.top-e.to.top)/s,u=Math.sqrt(a*a+l*l),{delay:h=0,duration:d=(t=>120*Math.sqrt(t)),easing:f=Qe}=n;return{delay:h,duration:c(d)?d(u):d,easing:f,css:(t,e)=>`transform: ${r} translate(${e*a}px, ${e*l}px);`}}function Ze(t,e,n){const i=t.slice();return i[6]=e[n],i[8]=n,i}function tn(t){let e,n=[],i=new Map,r=t[0];const o=t=>t[6];for(let e=0;e<r.length;e+=1){let s=Ze(t,r,e),a=o(s);i.set(a,n[e]=en(a,s))}return{c(){e=E("ul");for(let t=0;t<n.length;t+=1)n[t].c();A(e,"class","alerts svelte-1q3n1ri")},m(t,i){k(t,e,i);for(let t=0;t<n.length;t+=1)n[t].m(e,null)},p(t,s){if(3&s){r=t[0];for(let t=0;t<n.length;t+=1)n[t].r();n=function(t,e,n,i,r,o,s,a,c,l,u,h){let d=t.length,f=o.length,p=d;const g={};for(;p--;)g[t[p].key]=p;const m=[],v=new Map,w=new Map;for(p=f;p--;){const t=h(r,o,p),a=n(t);let c=s.get(a);c?i&&c.p(t,e):(c=l(a,t),c.c()),v.set(a,m[p]=c),a in g&&w.set(a,Math.abs(p-g[a]))}const y=new Set,b=new Set;function _(t){ct(t,1),t.m(a,u),s.set(t.key,t),u=t.first,f--}for(;d&&f;){const e=m[f-1],n=t[d-1],i=e.key,r=n.key;e===n?(u=e.first,d--,f--):v.has(r)?!s.has(i)||y.has(i)?_(e):b.has(r)?d--:w.get(i)>w.get(r)?(b.add(i),_(e)):(y.add(r),d--):(c(n,s),d--)}for(;d--;){const e=t[d];v.has(e.key)||c(e,s)}for(;f;)_(m[f-1]);return m}(n,s,o,1,t,r,i,e,ut,en,null,Ze);for(let t=0;t<n.length;t+=1)n[t].a()}},d(t){t&&$(e);for(let t=0;t<n.length;t+=1)n[t].d()}}}function en(t,e){let n,r,o,s,a,c,l,u,h,d,f,p,g,v="ok"==e[6].type?"OK":"Warning",w=e[6].body+"",y=i;function b(){return e[4](e[6])}return{key:t,first:null,c(){n=E("li"),r=E("span"),o=S(v),s=T(),a=E("span"),c=S(w),l=T(),u=E("button"),u.textContent="",h=T(),A(r,"class","alert-title svelte-1q3n1ri"),A(a,"class","alert-body svelte-1q3n1ri"),A(u,"class","svelte-1q3n1ri"),A(n,"class",d=m(e[6].type)+" svelte-1q3n1ri"),this.first=n},m(t,e){k(t,n,e),x(n,r),x(r,o),x(n,s),x(n,a),x(a,c),x(n,l),x(n,u),x(n,h),p||(g=P(u,"click",b),p=!0)},p(t,i){e=t,1&i&&v!==(v="ok"==e[6].type?"OK":"Warning")&&L(o,v),1&i&&w!==(w=e[6].body+"")&&L(c,w),1&i&&d!==(d=m(e[6].type)+" svelte-1q3n1ri")&&A(n,"class",d)},r(){f=n.getBoundingClientRect()},f(){Y(n),y()},a(){y(),y=j(n,f,Ve,e[2])},d(t){t&&$(n),p=!1,g()}}}function nn(t){let e,n=t[0].length>0&&tn(t);return{c(){n&&n.c(),e=C()},m(t,i){n&&n.m(t,i),k(t,e,i)},p(t,[i]){t[0].length>0?n?n.p(t,i):(n=tn(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:i,o:i,d(t){n&&n.d(t),t&&$(e)}}}function rn(t,e,n){let i=[];const r=t=>{const e=i.indexOf(t);n(0,i=[...i.slice(0,e),...i.slice(e+1,i.length)])};return t.$$.update=()=>{1&t.$$.dirty&&i.length},[i,r,{},t=>{var e,o,s;t.dismissable=null===(e=t.dismissable)||void 0===e||e,t.type=null!==(o=t.type)&&void 0!==o?o:"warn",t.duration=null!==(s=t.duration)&&void 0!==s?s:5e3,n(0,i=[t,...i]),t.duration>0&&setTimeout((()=>{r(t)}),t.duration)},t=>r(t)]}class on extends mt{constructor(t){super(),gt(this,t,rn,nn,l,{show:3})}get show(){return this.$$.ctx[3]}}function sn(t){let e,n;return{c(){e=E("div"),n=E("div"),n.innerHTML='<div class="svelte-pkkju9"></div> \n    <div class="svelte-pkkju9"></div> \n    <div class="svelte-pkkju9"></div> \n    <div class="svelte-pkkju9"></div> \n    <div class="svelte-pkkju9"></div> \n    <div class="svelte-pkkju9"></div> \n    <div class="svelte-pkkju9"></div> \n    <div class="svelte-pkkju9"></div> \n    <div class="svelte-pkkju9"></div> \n    <div class="svelte-pkkju9"></div> \n    <div class="svelte-pkkju9"></div> \n    <div class="svelte-pkkju9"></div>',A(n,"class","kv-spinner svelte-pkkju9"),O(e,"display",t[0]),A(e,"class","spinnerRoot svelte-pkkju9")},m(t,i){k(t,e,i),x(e,n)},p(t,[n]){1&n&&O(e,"display",t[0])},i:i,o:i,d(t){t&&$(e)}}}function an(t,e,n){let i="none";const r=()=>{n(0,i="block")},o=()=>{n(0,i="none")};return Ke.subscribe((t=>{t?r():o()})),[i,()=>"block"===i,r,o]}class cn extends mt{constructor(t){super(),gt(this,t,an,sn,l,{isVisible:1,show:2,hide:3})}get isVisible(){return this.$$.ctx[1]}get show(){return this.$$.ctx[2]}get hide(){return this.$$.ctx[3]}}function ln(t){let e,n,i,r,o,s,a,c,l,u,h,d,f,p,g,m,v,w,y,b,_,C,P,M,U,L,R,O,D,B,I,N,j,Y,q,H,W,z,G,K,F,J,X,Q,V,Z,tt,et,nt,it,rt,ot,st,at,ct,lt,ut,ht,dt,ft,pt,gt,mt,vt,wt,yt,bt,_t,xt,kt,$t,Et,St,Tt,Ct,Pt,Mt,At,Ut,Lt,Rt,Ot,Dt,Bt,It,Nt,jt,Yt,qt,Ht,Wt,zt,Gt,Kt,Ft,Jt,Xt,Qt,Vt,Zt,te,ee,ne,ie,re,oe,se,ae,ce,le,ue,he,de,fe,pe,ge,me,ve,we,ye,be,_e,xe,ke,$e,Ee,Se,Te,Ce,Pe,Me,Ae,Ue,Le,Re,Oe,De,Be,Ie,Ne,je,Ye,qe,He;return{c(){e=E("nav"),n=E("a"),i=E("img"),o=T(),s=E("div"),a=S("Featured"),l=T(),u=E("div"),u.innerHTML='<div class="count">99+</div>',d=T(),f=E("a"),p=E("img"),m=T(),v=E("div"),w=S("All Games"),b=T(),_=E("div"),C=E("div"),C.textContent="99+",U=T(),L=E("a"),R=E("img"),D=T(),B=E("div"),I=S("Global Stats"),j=T(),Y=E("div"),Y.innerHTML='<div class="count">99+</div>',H=T(),W=E("a"),z=E("img"),K=T(),F=E("div"),J=S("Tournaments"),Q=T(),V=E("div"),Z=E("div"),Z.textContent="3",nt=T(),it=E("a"),rt=E("img"),st=T(),at=E("div"),ct=S("Live Matches"),ut=T(),ht=E("div"),dt=E("div"),dt.textContent="27",gt=T(),mt=E("a"),vt=E("img"),yt=T(),bt=E("div"),_t=S("Top Highlights"),kt=T(),$t=E("div"),$t.innerHTML='<div class="count">99+</div>',St=T(),Tt=E("a"),Ct=E("img"),Mt=T(),At=E("div"),Ut=S("Marketplace"),Rt=T(),Ot=E("div"),Ot.innerHTML='<div class="count">99+</div>',Bt=T(),It=E("a"),Nt=E("img"),Yt=T(),qt=E("div"),Ht=S("Achievements"),zt=T(),Gt=E("div"),Kt=E("div"),Kt.textContent="5",Xt=T(),Qt=E("a"),Vt=E("img"),te=T(),ee=E("div"),ne=S("My Items"),re=T(),oe=E("div"),se=E("div"),se.textContent="17",le=T(),ue=E("a"),he=E("img"),fe=T(),pe=E("div"),ge=S("My Wallet"),ve=T(),we=E("div"),we.innerHTML='<div class="count">99+</div>',be=T(),_e=E("a"),xe=E("img"),$e=T(),Ee=E("div"),Se=S("Activity Log"),Ce=T(),Pe=E("div"),Pe.innerHTML='<div class="count">99+</div>',Ae=T(),Ue=E("a"),Le=E("img"),Oe=T(),De=E("div"),Be=S("Log Out"),Ne=T(),je=E("div"),je.innerHTML='<div class="count">99+</div>',i.src!==(r="images/icons8_star_96px.png")&&A(i,"src","images/icons8_star_96px.png"),A(i,"loading","lazy"),A(i,"alt",""),A(i,"class","nav-icon featured"),A(s,"class",c="text-block "+t[3]+" svelte-16hpd31"),A(u,"class","badge empty"),A(n,"href",t[0]),A(n,"class",h="nav-link featured "+t[3]+" w-inline-block svelte-16hpd31"),p.src!==(g="images/icons8_game_controller_52px-1_1icons8_game_controller_52px-1.png")&&A(p,"src","images/icons8_game_controller_52px-1_1icons8_game_controller_52px-1.png"),A(p,"loading","lazy"),A(p,"alt",""),A(p,"class","nav-icon"),A(v,"class",y="text-block "+t[3]+" svelte-16hpd31"),A(C,"class","count"),A(_,"class",P="badge "+t[3]+" svelte-16hpd31"),A(f,"href",t[0]),A(f,"class",M="nav-link "+t[3]+" w-inline-block svelte-16hpd31"),R.src!==(O="images/icons8_leaderboard_60px-1_1icons8_leaderboard_60px-1.png")&&A(R,"src","images/icons8_leaderboard_60px-1_1icons8_leaderboard_60px-1.png"),A(R,"loading","lazy"),A(R,"alt",""),A(R,"class","nav-icon stats"),A(B,"class",N="text-block "+t[3]+" svelte-16hpd31"),A(Y,"class","badge empty"),A(L,"href",t[0]),A(L,"class",q="nav-link "+t[3]+" w-inline-block svelte-16hpd31"),z.src!==(G="images/icons8_trophy_52px-1_1icons8_trophy_52px-1.png")&&A(z,"src","images/icons8_trophy_52px-1_1icons8_trophy_52px-1.png"),A(z,"loading","lazy"),A(z,"alt",""),A(z,"class","nav-icon tournaments"),A(F,"class",X="text-block "+t[3]+" svelte-16hpd31"),A(Z,"class","count"),A(V,"class",tt="badge "+t[3]+" svelte-16hpd31"),A(W,"href",t[0]),A(W,"class",et="nav-link "+t[3]+" w-inline-block svelte-16hpd31"),rt.src!==(ot="images/icons8_cinema_film_play_64px-1_1icons8_cinema_film_play_64px-1.png")&&A(rt,"src","images/icons8_cinema_film_play_64px-1_1icons8_cinema_film_play_64px-1.png"),A(rt,"loading","lazy"),A(rt,"alt",""),A(rt,"class","nav-icon matches"),A(at,"class",lt="text-block "+t[3]+" svelte-16hpd31"),A(dt,"class","count"),A(ht,"class",ft="badge "+t[3]+" svelte-16hpd31"),A(it,"href",t[0]),A(it,"class",pt="nav-link "+t[3]+" w-inline-block svelte-16hpd31"),vt.src!==(wt="images/icons8_video_trimming_52px-1_1icons8_video_trimming_52px-1.png")&&A(vt,"src","images/icons8_video_trimming_52px-1_1icons8_video_trimming_52px-1.png"),A(vt,"loading","lazy"),A(vt,"alt",""),A(vt,"class","nav-icon highlights"),A(bt,"class",xt="text-block "+t[3]+" svelte-16hpd31"),A($t,"class","badge empty"),A(mt,"href",t[0]),A(mt,"class",Et="nav-link "+t[3]+" w-inline-block svelte-16hpd31"),Ct.src!==(Pt="images/icons8_small_business_60px-1_1icons8_small_business_60px-1.png")&&A(Ct,"src","images/icons8_small_business_60px-1_1icons8_small_business_60px-1.png"),A(Ct,"loading","lazy"),A(Ct,"alt",""),A(Ct,"class","nav-icon marketplace"),A(At,"class",Lt="text-block "+t[3]+" svelte-16hpd31"),A(Ot,"class","badge empty"),A(Tt,"href",t[0]),A(Tt,"class",Dt="nav-link "+t[3]+" w-inline-block svelte-16hpd31"),Nt.src!==(jt="images/icons8_laurel_wreath_100px-1_1icons8_laurel_wreath_100px-1.png")&&A(Nt,"src","images/icons8_laurel_wreath_100px-1_1icons8_laurel_wreath_100px-1.png"),A(Nt,"loading","lazy"),A(Nt,"alt",""),A(Nt,"class","nav-icon achievements"),A(qt,"class",Wt="text-block "+t[3]+" svelte-16hpd31"),A(Kt,"class","count"),A(Gt,"class",Ft="badge "+t[3]+" svelte-16hpd31"),A(It,"href",t[0]),A(It,"class",Jt="nav-link "+t[3]+" w-inline-block svelte-16hpd31"),Vt.src!==(Zt="images/icons8_minecraft_sword_100px-1_1icons8_minecraft_sword_100px-1.png")&&A(Vt,"src","images/icons8_minecraft_sword_100px-1_1icons8_minecraft_sword_100px-1.png"),A(Vt,"loading","lazy"),A(Vt,"alt",""),A(Vt,"class","nav-icon items"),A(ee,"class",ie="text-block "+t[3]+" svelte-16hpd31"),A(se,"class","count"),A(oe,"class",ae="badge "+t[3]+" svelte-16hpd31"),A(Qt,"href",t[0]),A(Qt,"class",ce="nav-link "+t[3]+" w-inline-block svelte-16hpd31"),he.src!==(de="images/icons8_data_60px-1_1icons8_data_60px-1.png")&&A(he,"src","images/icons8_data_60px-1_1icons8_data_60px-1.png"),A(he,"loading","lazy"),A(he,"alt",""),A(he,"class","nav-icon wallet"),A(pe,"class",me="text-block "+t[3]+" svelte-16hpd31"),A(we,"class","badge empty"),A(ue,"href",t[0]),A(ue,"class",ye="nav-link "+t[3]+" w-inline-block svelte-16hpd31"),xe.src!==(ke="images/icons8_book_shelf_60px-1_1icons8_book_shelf_60px-1.png")&&A(xe,"src","images/icons8_book_shelf_60px-1_1icons8_book_shelf_60px-1.png"),A(xe,"loading","lazy"),A(xe,"alt",""),A(xe,"class","nav-icon activity"),A(Ee,"class",Te="text-block "+t[3]+" svelte-16hpd31"),A(Pe,"class","badge empty"),A(_e,"href",t[0]),A(_e,"class",Me="nav-link "+t[3]+" w-inline-block svelte-16hpd31"),Le.src!==(Re="images/icons8_logout_rounded_left_48px-2_1icons8_logout_rounded_left_48px-2.png")&&A(Le,"src","images/icons8_logout_rounded_left_48px-2_1icons8_logout_rounded_left_48px-2.png"),A(Le,"loading","lazy"),A(Le,"alt",""),A(Le,"class","nav-icon exit"),A(De,"class",Ie="text-block "+t[3]+" svelte-16hpd31"),A(je,"class","badge empty"),A(Ue,"href",t[0]),A(Ue,"class",Ye="nav-link "+t[3]+" w-inline-block svelte-16hpd31"),A(e,"role","navigation"),A(e,"class",qe="nav-menu w-nav-menu "+("menu"===t[2]?"w-mode-menu":"w-mode-nav")+" svelte-16hpd31"),A(e,"data-nav-menu-open",He="menu"===t[2]||null)},m(t,r){k(t,e,r),x(e,n),x(n,i),x(n,o),x(n,s),x(s,a),x(n,l),x(n,u),x(e,d),x(e,f),x(f,p),x(f,m),x(f,v),x(v,w),x(f,b),x(f,_),x(_,C),x(e,U),x(e,L),x(L,R),x(L,D),x(L,B),x(B,I),x(L,j),x(L,Y),x(e,H),x(e,W),x(W,z),x(W,K),x(W,F),x(F,J),x(W,Q),x(W,V),x(V,Z),x(e,nt),x(e,it),x(it,rt),x(it,st),x(it,at),x(at,ct),x(it,ut),x(it,ht),x(ht,dt),x(e,gt),x(e,mt),x(mt,vt),x(mt,yt),x(mt,bt),x(bt,_t),x(mt,kt),x(mt,$t),x(e,St),x(e,Tt),x(Tt,Ct),x(Tt,Mt),x(Tt,At),x(At,Ut),x(Tt,Rt),x(Tt,Ot),x(e,Bt),x(e,It),x(It,Nt),x(It,Yt),x(It,qt),x(qt,Ht),x(It,zt),x(It,Gt),x(Gt,Kt),x(e,Xt),x(e,Qt),x(Qt,Vt),x(Qt,te),x(Qt,ee),x(ee,ne),x(Qt,re),x(Qt,oe),x(oe,se),x(e,le),x(e,ue),x(ue,he),x(ue,fe),x(ue,pe),x(pe,ge),x(ue,ve),x(ue,we),x(e,be),x(e,_e),x(_e,xe),x(_e,$e),x(_e,Ee),x(Ee,Se),x(_e,Ce),x(_e,Pe),x(e,Ae),x(e,Ue),x(Ue,Le),x(Ue,Oe),x(Ue,De),x(De,Be),x(Ue,Ne),x(Ue,je)},p(t,i){8&i&&c!==(c="text-block "+t[3]+" svelte-16hpd31")&&A(s,"class",c),1&i&&A(n,"href",t[0]),8&i&&h!==(h="nav-link featured "+t[3]+" w-inline-block svelte-16hpd31")&&A(n,"class",h),8&i&&y!==(y="text-block "+t[3]+" svelte-16hpd31")&&A(v,"class",y),8&i&&P!==(P="badge "+t[3]+" svelte-16hpd31")&&A(_,"class",P),1&i&&A(f,"href",t[0]),8&i&&M!==(M="nav-link "+t[3]+" w-inline-block svelte-16hpd31")&&A(f,"class",M),8&i&&N!==(N="text-block "+t[3]+" svelte-16hpd31")&&A(B,"class",N),1&i&&A(L,"href",t[0]),8&i&&q!==(q="nav-link "+t[3]+" w-inline-block svelte-16hpd31")&&A(L,"class",q),8&i&&X!==(X="text-block "+t[3]+" svelte-16hpd31")&&A(F,"class",X),8&i&&tt!==(tt="badge "+t[3]+" svelte-16hpd31")&&A(V,"class",tt),1&i&&A(W,"href",t[0]),8&i&&et!==(et="nav-link "+t[3]+" w-inline-block svelte-16hpd31")&&A(W,"class",et),8&i&&lt!==(lt="text-block "+t[3]+" svelte-16hpd31")&&A(at,"class",lt),8&i&&ft!==(ft="badge "+t[3]+" svelte-16hpd31")&&A(ht,"class",ft),1&i&&A(it,"href",t[0]),8&i&&pt!==(pt="nav-link "+t[3]+" w-inline-block svelte-16hpd31")&&A(it,"class",pt),8&i&&xt!==(xt="text-block "+t[3]+" svelte-16hpd31")&&A(bt,"class",xt),1&i&&A(mt,"href",t[0]),8&i&&Et!==(Et="nav-link "+t[3]+" w-inline-block svelte-16hpd31")&&A(mt,"class",Et),8&i&&Lt!==(Lt="text-block "+t[3]+" svelte-16hpd31")&&A(At,"class",Lt),1&i&&A(Tt,"href",t[0]),8&i&&Dt!==(Dt="nav-link "+t[3]+" w-inline-block svelte-16hpd31")&&A(Tt,"class",Dt),8&i&&Wt!==(Wt="text-block "+t[3]+" svelte-16hpd31")&&A(qt,"class",Wt),8&i&&Ft!==(Ft="badge "+t[3]+" svelte-16hpd31")&&A(Gt,"class",Ft),1&i&&A(It,"href",t[0]),8&i&&Jt!==(Jt="nav-link "+t[3]+" w-inline-block svelte-16hpd31")&&A(It,"class",Jt),8&i&&ie!==(ie="text-block "+t[3]+" svelte-16hpd31")&&A(ee,"class",ie),8&i&&ae!==(ae="badge "+t[3]+" svelte-16hpd31")&&A(oe,"class",ae),1&i&&A(Qt,"href",t[0]),8&i&&ce!==(ce="nav-link "+t[3]+" w-inline-block svelte-16hpd31")&&A(Qt,"class",ce),8&i&&me!==(me="text-block "+t[3]+" svelte-16hpd31")&&A(pe,"class",me),1&i&&A(ue,"href",t[0]),8&i&&ye!==(ye="nav-link "+t[3]+" w-inline-block svelte-16hpd31")&&A(ue,"class",ye),8&i&&Te!==(Te="text-block "+t[3]+" svelte-16hpd31")&&A(Ee,"class",Te),1&i&&A(_e,"href",t[0]),8&i&&Me!==(Me="nav-link "+t[3]+" w-inline-block svelte-16hpd31")&&A(_e,"class",Me),8&i&&Ie!==(Ie="text-block "+t[3]+" svelte-16hpd31")&&A(De,"class",Ie),1&i&&A(Ue,"href",t[0]),8&i&&Ye!==(Ye="nav-link "+t[3]+" w-inline-block svelte-16hpd31")&&A(Ue,"class",Ye),4&i&&qe!==(qe="nav-menu w-nav-menu "+("menu"===t[2]?"w-mode-menu":"w-mode-nav")+" svelte-16hpd31")&&A(e,"class",qe),4&i&&He!==(He="menu"===t[2]||null)&&A(e,"data-nav-menu-open",He)},d(t){t&&$(e)}}}function un(t){let e,n=t[1]&&ln(t);return{c(){n&&n.c(),e=C()},m(t,i){n&&n.m(t,i),k(t,e,i)},p(t,[i]){t[1]?n?n.p(t,i):(n=ln(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:i,o:i,d(t){n&&n.d(t),t&&$(e)}}}function hn(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))};let{linkRoot:r="/"}=e,{visible:o=!1}=e,{mode:s="nav"}=e,a="condensed";return W((()=>i(void 0,void 0,void 0,(function*(){n(3,a="nav"===s?"condensed":"")})))),t.$$set=t=>{"linkRoot"in t&&n(0,r=t.linkRoot),"visible"in t&&n(1,o=t.visible),"mode"in t&&n(2,s=t.mode)},[r,o,s,a]}class dn extends mt{constructor(t){super(),gt(this,t,hn,un,l,{linkRoot:0,visible:1,mode:2})}}function fn(t){let e,n,i,r,o,s,a,c,l,u,h,d,f,p,g,m,v,w,y;return c=new dn({props:{linkRoot:pn,visible:!0,mode:"nav"}}),g=new dn({props:{linkRoot:pn,visible:!0,mode:"menu"}}),{c(){e=E("div"),n=E("a"),i=E("img"),o=T(),s=E("h1"),s.textContent="Open Beta",a=T(),ht(c.$$.fragment),l=T(),u=E("div"),h=E("div"),f=T(),p=E("div"),ht(g.$$.fragment),i.src!==(r="./images/fyx.svg")&&A(i,"src","./images/fyx.svg"),A(i,"loading","lazy"),A(i,"width","168"),A(i,"alt",""),A(i,"class","image"),A(s,"class","brand-text"),A(n,"href",pn),A(n,"class","logo-link w-nav-brand"),A(h,"class","w-icon-nav-menu"),A(u,"class",d="hamburger-button w-nav-button "+(t[0]?"w--open":"")),A(p,"class",m="w-nav-overlay "+(t[0]?"w-nav-open":"")+" svelte-1un4vni"),A(p,"id","w-nav-overlay-0"),O(p,"display",t[0]?"block":"none"),A(e,"data-collapse","medium"),A(e,"class","left-navigation condensed w-nav")},m(r,d){k(r,e,d),x(e,n),x(n,i),x(n,o),x(n,s),x(e,a),dt(c,e,null),x(e,l),x(e,u),x(u,h),x(e,f),x(e,p),dt(g,p,null),v=!0,w||(y=P(u,"click",M(t[1])),w=!0)},p(t,[e]){(!v||1&e&&d!==(d="hamburger-button w-nav-button "+(t[0]?"w--open":"")))&&A(u,"class",d),(!v||1&e&&m!==(m="w-nav-overlay "+(t[0]?"w-nav-open":"")+" svelte-1un4vni"))&&A(p,"class",m),(!v||1&e)&&O(p,"display",t[0]?"block":"none")},i(t){v||(ct(c.$$.fragment,t),ct(g.$$.fragment,t),v=!0)},o(t){lt(c.$$.fragment,t),lt(g.$$.fragment,t),v=!1},d(t){t&&$(e),ft(c),ft(g),w=!1,y()}}}const pn="https://staging.fyxgaming.com/";function gn(t,e,n){let i=!1;return[i,()=>{n(0,i=!i)}]}class mn extends mt{constructor(t){super(),gt(this,t,gn,fn,l,{})}}function vn(t){let e,n,i,r,o,s,c,l,u,h,d,f,p,g,m,v,w,y,b,_,C,U,L,O,D,B,I,N,j,Y,q,H,W,z,G,K,F,J,X,Q,V,Z,tt,et,nt,it,rt,ot,st,at=t[4]&&yn(t);return{c(){e=E("h2"),n=S("Register"),r=T(),o=E("h2"),s=S("Login"),c=T(),at&&at.c(),l=T(),u=E("section"),h=E("form"),d=E("div"),f=E("label"),f.innerHTML='<span class="field-label">Email</span> \n          <span class="field-hint">Must contain unique email address.</span>',p=T(),g=E("input"),m=T(),v=E("div"),w=E("label"),w.innerHTML='<span class="field-label">Gamer Handle</span> \n          <span class="field-hint">Must contain 4+ characters.</span>',y=T(),b=E("input"),_=T(),C=E("div"),U=E("label"),U.innerHTML='<span class="field-label">Password</span> \n          <span class="field-hint">Must contain 8+ characters with at least\n            <br/>1 number and 1 uppercase letter.</span>',L=T(),O=E("input"),D=T(),B=E("div"),B.innerHTML='<button class="action featured primary" type="submit">Register</button>',I=T(),N=E("p"),j=E("a"),j.textContent="Login",q=T(),H=E("section"),W=E("form"),z=E("div"),G=E("label"),G.innerHTML='<span class="field-label">Gamer Handle</span>',K=T(),F=E("input"),J=T(),X=E("div"),Q=E("label"),Q.innerHTML='<span class="field-label">Password</span>',V=T(),Z=E("input"),tt=T(),et=E("div"),et.innerHTML='<button class="action featured primary" type="submit">Login</button>',nt=T(),it=E("p"),rt=E("a"),rt.textContent="Register",e.hidden=i=!t[0],A(e,"class","large-caption"),o.hidden=t[0],A(o,"class","large-caption"),A(f,"for","remail"),A(g,"id","remail"),A(g,"class","field-cntrl"),g.required=!0,A(g,"placeholder","enter your email"),A(g,"type","email"),A(d,"class","wui-field"),A(w,"for","rhandle"),A(b,"id","rhandle"),A(b,"class","field-cntrl"),b.required=!0,A(b,"pattern",_n),A(b,"placeholder","enter your gamer handle"),A(v,"class","wui-field large-button"),A(U,"for","rpassword"),A(O,"id","rpassword"),A(O,"class","field-cntrl"),O.required=!0,A(O,"minlength",8),A(O,"placeholder","enter your password"),A(O,"type","password"),A(C,"class","wui-field"),A(B,"class","wui-actions"),A(j,"href","/"),A(N,"class","large-caption link-button"),u.hidden=Y=!t[0],A(G,"for","handle"),A(F,"id","handle"),A(F,"class","field-cntrl"),F.required=!0,A(F,"pattern",_n),A(F,"placeholder","enter your gamer handle"),A(z,"class","wui-field"),A(Q,"for","password"),A(Z,"id","password"),A(Z,"class","field-cntrl"),Z.required=!0,A(Z,"minlength",8),A(Z,"placeholder","enter your password"),A(Z,"type","password"),A(X,"class","wui-field"),A(et,"class","wui-actions"),A(rt,"href","/"),A(it,"class","large-caption link-button"),H.hidden=t[0]},m(i,a){k(i,e,a),x(e,n),k(i,r,a),k(i,o,a),x(o,s),k(i,c,a),at&&at.m(i,a),k(i,l,a),k(i,u,a),x(u,h),x(h,d),x(d,f),x(d,p),x(d,g),R(g,t[3]),x(h,m),x(h,v),x(v,w),x(v,y),x(v,b),R(b,t[1]),x(h,_),x(h,C),x(C,U),x(C,L),x(C,O),R(O,t[2]),x(h,D),x(h,B),x(u,I),x(u,N),x(N,j),k(i,q,a),k(i,H,a),x(H,W),x(W,z),x(z,G),x(z,K),x(z,F),R(F,t[1]),x(W,J),x(W,X),x(X,Q),x(X,V),x(X,Z),R(Z,t[2]),x(W,tt),x(W,et),x(H,nt),x(H,it),x(it,rt),ot||(st=[P(g,"input",t[9]),P(b,"input",t[10]),P(O,"input",t[11]),P(h,"submit",M(t[6])),P(j,"click",M(t[12])),P(F,"input",t[13]),P(Z,"input",t[14]),P(W,"submit",M(t[7])),P(rt,"click",M(t[15]))],ot=!0)},p(t,n){1&n&&i!==(i=!t[0])&&(e.hidden=i),1&n&&(o.hidden=t[0]),t[4]?at?at.p(t,n):(at=yn(t),at.c(),at.m(l.parentNode,l)):at&&(at.d(1),at=null),8&n&&g.value!==t[3]&&R(g,t[3]),2&n&&b.value!==t[1]&&R(b,t[1]),4&n&&O.value!==t[2]&&R(O,t[2]),1&n&&Y!==(Y=!t[0])&&(u.hidden=Y),2&n&&F.value!==t[1]&&R(F,t[1]),4&n&&Z.value!==t[2]&&R(Z,t[2]),1&n&&(H.hidden=t[0])},d(t){t&&$(e),t&&$(r),t&&$(o),t&&$(c),at&&at.d(t),t&&$(l),t&&$(u),t&&$(q),t&&$(H),ot=!1,a(st)}}}function wn(t){let e,n,r,o;return{c(){e=E("section"),n=E("button"),n.textContent="Logout",A(n,"class","action icon ico-signout"),A(e,"class","wui-actions")},m(i,s){k(i,e,s),x(e,n),r||(o=P(n,"click",M(t[8])),r=!0)},p:i,d(t){t&&$(e),r=!1,o()}}}function yn(t){let e,n,i;return{c(){e=E("section"),n=E("p"),i=S(t[4]),A(e,"class","errorPanel")},m(t,r){k(t,e,r),x(e,n),x(n,i)},p(t,e){16&e&&L(i,t[4])},d(t){t&&$(e)}}}function bn(t){let e;function n(t,e){return t[5]?wn:vn}let r=n(t),o=r(t);return{c(){o.c(),e=C()},m(t,n){o.m(t,n),k(t,e,n)},p(t,[i]){r===(r=n(t))&&o?o.p(t,i):(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},i:i,o:i,d(t){o.d(t),t&&$(e)}}}let _n="[a-zA-Z0-9]{4,25}";function xn(t,e,n){let i;d(t,Ge,(t=>n(5,i=t)));var r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))};z();let o,s,a,c,l=!1;const u=()=>{const t=h(Xe);Ke.set(!1),Ge.update((e=>t.authenticated)),We.update((e=>t.handle))},f=()=>r(void 0,void 0,void 0,(function*(){const t=h(Xe);console.log("logout"),Ke.set(!0),yield t.logout(),u()})),p=t=>r(void 0,void 0,void 0,(function*(){console.log(t),Ke.set(!1),n(4,c=t),setTimeout((()=>{n(4,c=null)}),5e3)}));He.subscribe((t=>{"logout"===t&&f()}));return[l,o,s,a,c,i,()=>r(void 0,void 0,void 0,(function*(){const t=h(Xe);console.log("register"),Ke.set(!0);try{yield t.register(o,s,a)}catch(t){return void p("Registration failed")}u()})),()=>r(void 0,void 0,void 0,(function*(){const t=h(Xe);console.log("login"),Ke.set(!0);try{yield t.login(o,s)}catch(t){return void p("Login failed")}u()})),f,function(){a=this.value,n(3,a)},function(){o=this.value,n(1,o)},function(){s=this.value,n(2,s)},()=>n(0,l=!1),function(){o=this.value,n(1,o)},function(){s=this.value,n(2,s)},()=>n(0,l=!0)]}class kn extends mt{constructor(t){super(),gt(this,t,xn,bn,l,{})}}const $n=t=>({}),En=t=>({}),Sn=t=>({}),Tn=t=>({}),Cn=t=>({}),Pn=t=>({});function Mn(t){let e,n,i,r,o,s,a,c,l,u,h,d,p,m=Rn(t[1]).currency+"";const v=t[6].prepend,w=f(v,t,t[5],Pn);let y=!t[0]&&An(t);const b=t[6].actions,_=f(b,t,t[5],Tn),C=t[6].extend,P=f(C,t,t[5],En);return{c(){e=E("h1"),n=S(t[3]),i=T(),r=E("p"),r.textContent="Your Balance",o=T(),s=E("p"),a=S(m),c=T(),w&&w.c(),l=T(),u=E("section"),y&&y.c(),h=T(),_&&_.c(),d=T(),P&&P.c(),A(e,"class","small-caption username"),A(r,"class","large-caption balance-caption"),A(s,"class","large-caption balance"),A(u,"class","wui-actions")},m(t,f){k(t,e,f),x(e,n),k(t,i,f),k(t,r,f),k(t,o,f),k(t,s,f),x(s,a),k(t,c,f),w&&w.m(t,f),k(t,l,f),k(t,u,f),y&&y.m(u,null),x(u,h),_&&_.m(u,null),k(t,d,f),P&&P.m(t,f),p=!0},p(t,e){(!p||8&e)&&L(n,t[3]),(!p||2&e)&&m!==(m=Rn(t[1]).currency+"")&&L(a,m),w&&w.p&&32&e&&g(w,v,t,t[5],e,Cn,Pn),t[0]?y&&(y.d(1),y=null):y?y.p(t,e):(y=An(t),y.c(),y.m(u,h)),_&&_.p&&32&e&&g(_,b,t,t[5],e,Sn,Tn),P&&P.p&&32&e&&g(P,C,t,t[5],e,$n,En)},i(t){p||(ct(w,t),ct(_,t),ct(P,t),p=!0)},o(t){lt(w,t),lt(_,t),lt(P,t),p=!1},d(t){t&&$(e),t&&$(i),t&&$(r),t&&$(o),t&&$(s),t&&$(c),w&&w.d(t),t&&$(l),t&&$(u),y&&y.d(),_&&_.d(t),t&&$(d),P&&P.d(t)}}}function An(t){let e,n,r,o,s;return{c(){e=E("button"),e.textContent="Add Funds",n=T(),r=E("button"),r.textContent="Withdrawal",A(e,"class","action icon ico-cashin"),A(r,"class","action icon ico-cashout")},m(i,a){k(i,e,a),k(i,n,a),k(i,r,a),o||(s=[P(e,"click",M(t[7])),P(r,"click",M(t[8]))],o=!0)},p:i,d(t){t&&$(e),t&&$(n),t&&$(r),o=!1,a(s)}}}function Un(t){let e,n;return e=new kn({}),{c(){ht(e.$$.fragment)},m(t,i){dt(e,t,i),n=!0},i(t){n||(ct(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function Ln(t){let e,n,i,r,o;const s=t[6].default,a=f(s,t,t[5],null);let c=t[2]&&Mn(t),l=!t[0]&&Un();return{c(){e=E("section"),n=E("div"),a&&a.c(),i=T(),c&&c.c(),r=T(),l&&l.c(),A(n,"class","contentBox"),A(e,"class","panelBox")},m(t,s){k(t,e,s),x(e,n),a&&a.m(n,null),x(n,i),c&&c.m(n,null),x(n,r),l&&l.m(n,null),o=!0},p(t,[e]){a&&a.p&&32&e&&g(a,s,t,t[5],e,null,null),t[2]?c?(c.p(t,e),4&e&&ct(c,1)):(c=Mn(t),c.c(),ct(c,1),c.m(n,r)):c&&(st(),lt(c,1,1,(()=>{c=null})),at()),t[0]?l&&(st(),lt(l,1,1,(()=>{l=null})),at()):l?1&e&&ct(l,1):(l=Un(),l.c(),ct(l,1),l.m(n,null))},i(t){o||(ct(a,t),ct(c),ct(l),o=!0)},o(t){lt(a,t),lt(c),lt(l),o=!1},d(t){t&&$(e),a&&a.d(t),c&&c.d(),l&&l.d()}}}function Rn(t){let e=(t||0).toString().replace(/[^0-9\.-]/g,""),n=Number.parseFloat(e)||0;return{value:n,currency:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n)}}function On(t,e,n){let i,r;d(t,Ge,(t=>n(2,i=t))),d(t,We,(t=>n(3,r=t)));let{$$slots:o={},$$scope:s}=e,{hideDefaultActions:a=!1}=e,{balance:c=0}=e;const l=t=>{h(Xe).show(t)};return t.$$set=t=>{"hideDefaultActions"in t&&n(0,a=t.hideDefaultActions),"balance"in t&&n(1,c=t.balance),"$$scope"in t&&n(5,s=t.$$scope)},[a,c,i,r,l,s,o,()=>l("cashier"),()=>l("cashout")]}class Dn extends mt{constructor(t){super(),gt(this,t,On,Ln,l,{hideDefaultActions:0,balance:1})}}function Bn(t){let e,n;return e=new Dn({props:{balance:t[1],$$slots:{prepend:[In]},$$scope:{ctx:t}}}),{c(){ht(e.$$.fragment)},m(t,i){dt(e,t,i),n=!0},p(t,n){const i={};2&n&&(i.balance=t[1]),8&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){n||(ct(e.$$.fragment,t),n=!0)},o(t){lt(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function In(t){let e,n;const i=t[2].default,r=f(i,t,t[3],null);return{c(){e=E("div"),r&&r.c(),A(e,"slot","prepend")},m(t,i){k(t,e,i),r&&r.m(e,null),n=!0},p(t,e){r&&r.p&&8&e&&g(r,i,t,t[3],e,null,null)},i(t){n||(ct(r,t),n=!0)},o(t){lt(r,t),n=!1},d(t){t&&$(e),r&&r.d(t)}}}function Nn(t){let e,n,i=t[0]&&Bn(t);return{c(){i&&i.c(),e=C()},m(t,r){i&&i.m(t,r),k(t,e,r),n=!0},p(t,[n]){t[0]?i?(i.p(t,n),1&n&&ct(i,1)):(i=Bn(t),i.c(),ct(i,1),i.m(e.parentNode,e)):i&&(st(),lt(i,1,1,(()=>{i=null})),at())},i(t){n||(ct(i),n=!0)},o(t){lt(i),n=!1},d(t){i&&i.d(t),t&&$(e)}}}function jn(t,e,n){let i;d(t,ze,(t=>n(1,i=t)));let{$$slots:r={},$$scope:o}=e,{visible:s=!1}=e;return He.subscribe((t=>{"home"===t||"menu"===t?(n(0,s=!0),Fe.set("panelMode")):n(0,s=!1)})),t.$$set=t=>{"visible"in t&&n(0,s=t.visible),"$$scope"in t&&n(3,o=t.$$scope)},[s,i,r,o]}class Yn extends mt{constructor(t){super(),gt(this,t,jn,Nn,l,{visible:0})}}function qn(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Hn(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Wn(t){Hn(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function zn(t,e){Hn(2,arguments);var n=Wn(t).getTime(),i=qn(e);return new Date(n+i)}var Gn=6e4;function Kn(t){return t.getTime()%Gn}function Fn(t){var e=new Date(t.getTime()),n=Math.ceil(e.getTimezoneOffset());e.setSeconds(0,0);var i=n>0?(Gn+Kn(e))%Gn:Kn(e);return n*Gn+i}function Jn(t){Hn(1,arguments);var e=Wn(t);return!isNaN(e)}var Xn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Qn(t){return function(e){var n=e||{},i=n.width?String(n.width):t.defaultWidth;return t.formats[i]||t.formats[t.defaultWidth]}}var Vn={date:Qn({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Qn({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Qn({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Zn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ti(t){return function(e,n){var i,r=n||{};if("formatting"===(r.context?String(r.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=r.width?String(r.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{var a=t.defaultWidth,c=r.width?String(r.width):t.defaultWidth;i=t.values[c]||t.values[a]}return i[t.argumentCallback?t.argumentCallback(e):e]}}function ei(t){return function(e,n){var i=String(e),r=n||{},o=r.width,s=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],a=i.match(s);if(!a)return null;var c,l=a[0],u=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth];return c="[object Array]"===Object.prototype.toString.call(u)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}(u,(function(t){return t.test(l)})):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}(u,(function(t){return t.test(l)})),c=t.valueCallback?t.valueCallback(c):c,{value:c=r.valueCallback?r.valueCallback(c):c,rest:i.slice(l.length)}}}var ni,ii={code:"en-US",formatDistance:function(t,e,n){var i;return n=n||{},i="string"==typeof Xn[t]?Xn[t]:1===e?Xn[t].one:Xn[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+i:i+" ago":i},formatLong:Vn,formatRelative:function(t,e,n,i){return Zn[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:ti({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ti({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:ti({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ti({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ti({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(ni={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),i=e||{},r=n.match(ni.matchPattern);if(!r)return null;var o=r[0],s=n.match(ni.parsePattern);if(!s)return null;var a=ni.valueCallback?ni.valueCallback(s[0]):s[0];return{value:a=i.valueCallback?i.valueCallback(a):a,rest:n.slice(o.length)}}),era:ei({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ei({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ei({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ei({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ei({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function ri(t,e){Hn(2,arguments);var n=qn(e);return zn(t,-n)}function oi(t,e){for(var n=t<0?"-":"",i=Math.abs(t).toString();i.length<e;)i="0"+i;return n+i}var si=function(t,e){var n=t.getUTCFullYear(),i=n>0?n:1-n;return oi("yy"===e?i%100:i,e.length)},ai=function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):oi(n+1,2)},ci=function(t,e){return oi(t.getUTCDate(),e.length)},li=function(t,e){return oi(t.getUTCHours()%12||12,e.length)},ui=function(t,e){return oi(t.getUTCHours(),e.length)},hi=function(t,e){return oi(t.getUTCMinutes(),e.length)},di=function(t,e){return oi(t.getUTCSeconds(),e.length)},fi=function(t,e){var n=e.length,i=t.getUTCMilliseconds();return oi(Math.floor(i*Math.pow(10,n-3)),e.length)},pi=864e5;function gi(t){Hn(1,arguments);var e=1,n=Wn(t),i=n.getUTCDay(),r=(i<e?7:0)+i-e;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}function mi(t){Hn(1,arguments);var e=Wn(t),n=e.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var r=gi(i),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=gi(o);return e.getTime()>=r.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function vi(t){Hn(1,arguments);var e=mi(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var i=gi(n);return i}var wi=6048e5;function yi(t,e){Hn(1,arguments);var n=e||{},i=n.locale,r=i&&i.options&&i.options.weekStartsOn,o=null==r?0:qn(r),s=null==n.weekStartsOn?o:qn(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=Wn(t),c=a.getUTCDay(),l=(c<s?7:0)+c-s;return a.setUTCDate(a.getUTCDate()-l),a.setUTCHours(0,0,0,0),a}function bi(t,e){Hn(1,arguments);var n=Wn(t,e),i=n.getUTCFullYear(),r=e||{},o=r.locale,s=o&&o.options&&o.options.firstWeekContainsDate,a=null==s?1:qn(s),c=null==r.firstWeekContainsDate?a:qn(r.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(i+1,0,c),l.setUTCHours(0,0,0,0);var u=yi(l,e),h=new Date(0);h.setUTCFullYear(i,0,c),h.setUTCHours(0,0,0,0);var d=yi(h,e);return n.getTime()>=u.getTime()?i+1:n.getTime()>=d.getTime()?i:i-1}function _i(t,e){Hn(1,arguments);var n=e||{},i=n.locale,r=i&&i.options&&i.options.firstWeekContainsDate,o=null==r?1:qn(r),s=null==n.firstWeekContainsDate?o:qn(n.firstWeekContainsDate),a=bi(t,e),c=new Date(0);c.setUTCFullYear(a,0,s),c.setUTCHours(0,0,0,0);var l=yi(c,e);return l}var xi=6048e5;var ki="midnight",$i="noon",Ei="morning",Si="afternoon",Ti="evening",Ci="night",Pi={G:function(t,e,n){var i=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var i=t.getUTCFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return si(t,e)},Y:function(t,e,n,i){var r=bi(t,i),o=r>0?r:1-r;return"YY"===e?oi(o%100,2):"Yo"===e?n.ordinalNumber(o,{unit:"year"}):oi(o,e.length)},R:function(t,e){return oi(mi(t),e.length)},u:function(t,e){return oi(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return oi(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return oi(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){var i=t.getUTCMonth();switch(e){case"M":case"MM":return ai(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){var i=t.getUTCMonth();switch(e){case"L":return String(i+1);case"LL":return oi(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){var r=function(t,e){Hn(1,arguments);var n=Wn(t),i=yi(n,e).getTime()-_i(n,e).getTime();return Math.round(i/xi)+1}(t,i);return"wo"===e?n.ordinalNumber(r,{unit:"week"}):oi(r,e.length)},I:function(t,e,n){var i=function(t){Hn(1,arguments);var e=Wn(t),n=gi(e).getTime()-vi(e).getTime();return Math.round(n/wi)+1}(t);return"Io"===e?n.ordinalNumber(i,{unit:"week"}):oi(i,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):ci(t,e)},D:function(t,e,n){var i=function(t){Hn(1,arguments);var e=Wn(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var i=e.getTime(),r=n-i;return Math.floor(r/pi)+1}(t);return"Do"===e?n.ordinalNumber(i,{unit:"dayOfYear"}):oi(i,e.length)},E:function(t,e,n){var i=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){var r=t.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return oi(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){var r=t.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return oi(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){var i=t.getUTCDay(),r=0===i?7:i;switch(e){case"i":return String(r);case"ii":return oi(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){var i=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){var i,r=t.getUTCHours();switch(i=12===r?$i:0===r?ki:r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){var i,r=t.getUTCHours();switch(i=r>=17?Ti:r>=12?Si:r>=4?Ei:Ci,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var i=t.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return li(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ui(t,e)},K:function(t,e,n){var i=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(i,{unit:"hour"}):oi(i,e.length)},k:function(t,e,n){var i=t.getUTCHours();return 0===i&&(i=24),"ko"===e?n.ordinalNumber(i,{unit:"hour"}):oi(i,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):hi(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):di(t,e)},S:function(t,e){return fi(t,e)},X:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();if(0===r)return"Z";switch(e){case"X":return Ai(r);case"XXXX":case"XX":return Ui(r);case"XXXXX":case"XXX":default:return Ui(r,":")}},x:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"x":return Ai(r);case"xxxx":case"xx":return Ui(r);case"xxxxx":case"xxx":default:return Ui(r,":")}},O:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Mi(r,":");case"OOOO":default:return"GMT"+Ui(r,":")}},z:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Mi(r,":");case"zzzz":default:return"GMT"+Ui(r,":")}},t:function(t,e,n,i){var r=i._originalDate||t;return oi(Math.floor(r.getTime()/1e3),e.length)},T:function(t,e,n,i){return oi((i._originalDate||t).getTime(),e.length)}};function Mi(t,e){var n=t>0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),o=i%60;if(0===o)return n+String(r);var s=e||"";return n+String(r)+s+oi(o,2)}function Ai(t,e){return t%60==0?(t>0?"-":"+")+oi(Math.abs(t)/60,2):Ui(t,e)}function Ui(t,e){var n=e||"",i=t>0?"-":"+",r=Math.abs(t);return i+oi(Math.floor(r/60),2)+n+oi(r%60,2)}function Li(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function Ri(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}var Oi={p:Ri,P:function(t,e){var n,i=t.match(/(P+)(p+)?/),r=i[1],o=i[2];if(!o)return Li(t,e);switch(r){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;case"PPPP":default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",Li(r,e)).replace("{{time}}",Ri(o,e))}},Di=["D","DD"],Bi=["YY","YYYY"];function Ii(t){return-1!==Di.indexOf(t)}function Ni(t){return-1!==Bi.indexOf(t)}function ji(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var Yi=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qi=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hi=/^'([^]*?)'?$/,Wi=/''/g,zi=/[a-zA-Z]/;function Gi(t,e,n){Hn(2,arguments);var i=String(e),r=n||{},o=r.locale||ii,s=o.options&&o.options.firstWeekContainsDate,a=null==s?1:qn(s),c=null==r.firstWeekContainsDate?a:qn(r.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=o.options&&o.options.weekStartsOn,u=null==l?0:qn(l),h=null==r.weekStartsOn?u:qn(r.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var d=Wn(t);if(!Jn(d))throw new RangeError("Invalid time value");var f=Fn(d),p=ri(d,f),g={firstWeekContainsDate:c,weekStartsOn:h,locale:o,_originalDate:d},m=i.match(qi).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,Oi[e])(t,o.formatLong,g):t})).join("").match(Yi).map((function(n){if("''"===n)return"'";var i=n[0];if("'"===i)return Ki(n);var s=Pi[i];if(s)return!r.useAdditionalWeekYearTokens&&Ni(n)&&ji(n,e,t),!r.useAdditionalDayOfYearTokens&&Ii(n)&&ji(n,e,t),s(p,n,o.localize,g);if(i.match(zi))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return n})).join("");return m}function Ki(t){return t.match(Hi)[1].replace(Wi,"'")}class Fi{static async getIp(){return await fetch("https://api.ipify.org/?format=json")}static convertUnityGpsData(t){var e,n,i;const r="MM-dd-yyyy ppp";let o="";try{o=Gi(t.timestamp,r)}catch(t){o=Gi(Date.now(),r)}return{latitude:null!==(e=t.latitude)&&void 0!==e?e:0,longitude:null!==(n=t.longitude)&&void 0!==n?n:0,altitude:null!==(i=t.altitude)&&void 0!==i?i:0,radius:0,speed:0,dateTime:o}}static async getGps(){var t,e,n,i,r;const o=await this.getGeoInfo();return{latitude:null!==(t=o.coords.latitude)&&void 0!==t?t:0,longitude:null!==(e=o.coords.longitude)&&void 0!==e?e:0,radius:null!==(n=o.coords.accuracy)&&void 0!==n?n:0,altitude:null!==(i=o.coords.altitude)&&void 0!==i?i:0,speed:null!==(r=o.coords.speed)&&void 0!==r?r:0,dateTime:Gi(o.timestamp,"MM-dd-yyyy ppp")}}static async getGeoInfo(){return new Promise(((t,e)=>{navigator.geolocation.getCurrentPosition((e=>{console.log("GPS:",e),t(e)}),e,{maximumAge:12e6,timeout:2e4,enableHighAccuracy:!0})}))}}function Ji(t){let e;return{c(){e=E("section"),A(e,"id","webcashier")},m(t,n){k(t,e,n)},p:i,i:i,o:i,d(t){t&&$(e)}}}function Xi(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))};const r=z(),o=window;let s,a;o.gidxServiceSettings=function(t){console.log(`TRIGGERED: gidx.gidxServiceSettings: ${t}`),o.gidxContainer="#webcashier",o.gidxBuildTimer=!1,o.gidxBuildSteps=!1},o.gidxErrorReport=f("gidxErrorReport",(()=>{c("Cashier unavailable at this time."),Ke.set(!1)})),o.gidxContainer=f("gidxContainer"),o.gidxBuildTimer=f("gidxBuildTimer"),o.gidxBuildSteps=f("gidxBuildSteps"),o.gidxNextStep=f("gidxNextStep",(function(){return i(this,void 0,void 0,(function*(){console.log("WebCashier Completed"),Ke.set(!0),"cashin"===s&&(yield d()),s=void 0,u(),Ke.set(!1)}))})),o.gidxServiceStatus=f("gidxServiceStatus",((t,e)=>i(void 0,void 0,void 0,(function*(){"start"===e&&Ke.set(!1),"cashierComplete-plate"==t&&"cashin"==s&&(Ke.set(!0),yield d(),Ke.set(!1))}))));const c=(t,e="warn")=>i(void 0,void 0,void 0,(function*(){console.log(t),r("dialog",{body:t,type:e})})),l=()=>i(void 0,void 0,void 0,(function*(){const t=h(Xe);try{const e=yield t.getGpsLocation();return Fi.convertUnityGpsData(e)}catch(t){console.error(t),c("Could not retrieve GPS information.")}return null}));function u(){r("complete",{})}function d(){return i(this,void 0,void 0,(function*(){const t=yield function(){return i(this,void 0,void 0,(function*(){console.log("GET SESSION STATUS");const t=h(Xe),e=yield l();if(!e)throw new Error("You must share your location to continue.");const n=t.wallet.buildMessage({subject:t.paymail,payload:JSON.stringify({deviceGPS:e})});try{const e=yield t.blockchain.sendMessage(n,"/payment/status");return console.log(e),e}catch(t){return{message:t.message,success:!1}}}))}();if(c(t.message,t.success?"ok":"warn"),t.success){const t=h(Xe);ze.set(yield t.getBalance())}}))}function f(t,e){return(n,r,...o)=>i(this,void 0,void 0,(function*(){console.log(`TRIGGERED: ${t}: ${n} ${r}`,o),"function"==typeof e&&(yield e(n,r,...o))}))}function p(t){t||c("Cashier script not provided by service."),a=unescape(decodeURI(t)).replace(/\+/g," "),setTimeout((()=>{var t,e;t=document.getElementById("webcashier"),e=a,t.innerHTML=e,Array.from(t.querySelectorAll("script")).forEach((t=>{const e=document.createElement("script");Array.from(t.attributes).forEach((t=>e.setAttribute(t.name,t.value))),e.appendChild(document.createTextNode(t.innerHTML)),t.parentNode.replaceChild(e,t)}))}),500)}return[t=>i(void 0,void 0,void 0,(function*(){var e;try{s="cashout",Ke.set(!0);const e=yield l();if(!e)throw new Error("You must share your location to continue.");const n=h(Xe),i=n.wallet.buildMessage({subject:n.paymail,payload:JSON.stringify({deviceGPS:e,paymentAmount:t})}),r=yield n.blockchain.sendMessage(i,"/cashout");let o=r.paymentId,a=r.cashierScript;if(a)return window.localStorage.setItem(o,a),void p(a);if(o){if(a=window.localStorage.getItem(o),a)return void p(a);throw new Error("Cashier session could not be restored.")}}catch(t){console.error(t),Ke.set(!1),c(null!==(e=t.message)&&void 0!==e?e:"Could not cash out funds at this time."),u()}})),t=>i(void 0,void 0,void 0,(function*(){var e;try{s="cashin",Ke.set(!0);const e=yield l();if(!e)throw new Error("You must share your location to continue.");const n=h(Xe),i=n.wallet.buildMessage({subject:"CashInRequest",payload:JSON.stringify({deviceGPS:e,owner:n.wallet.address,paymentAmount:t})}),r=yield n.blockchain.sendMessage(i,"/cashier");let o=r.paymentId,a=r.cashierScript;if(a)return window.localStorage.setItem(o,a),void p(a);if(o){if(a=window.localStorage.getItem(o),a)return void p(a);throw new Error("Cashier session could not be restored.")}}catch(t){console.log(t,t.stack),Ke.set(!1),c(null!==(e=t.message)&&void 0!==e?e:"Could not add funds at this time."),u()}}))]}class Qi extends mt{constructor(t){super(),gt(this,t,Xi,Ji,l,{cashOut:0,cashIn:1})}get cashOut(){return this.$$.ctx[0]}get cashIn(){return this.$$.ctx[1]}}function Vi(t){let e,n,i,r,o,s,a={balance:t[6],hideDefaultActions:or,$$slots:{default:[ir],actions:[nr],prepend:[tr]},$$scope:{ctx:t}};e=new Dn({props:a}),t[13](e);return o=new Qi({props:{}}),t[14](o),o.$on("dialog",t[15]),o.$on("complete",t[10]),{c(){ht(e.$$.fragment),n=T(),i=E("section"),r=E("div"),ht(o.$$.fragment),A(r,"class","contentBox"),A(i,"class","frameBox")},m(t,a){dt(e,t,a),k(t,n,a),k(t,i,a),x(i,r),dt(o,r,null),s=!0},p(t,n){const i={};64&n&&(i.balance=t[6]),4194418&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);o.$set({})},i(t){s||(ct(e.$$.fragment,t),ct(o.$$.fragment,t),s=!0)},o(t){lt(e.$$.fragment,t),lt(o.$$.fragment,t),s=!1},d(r){t[13](null),ft(e,r),r&&$(n),r&&$(i),t[14](null),ft(o)}}}function Zi(t){let e,n,i,r,o,s,c,l,u,h,d,f,p,g,m,v,w,y,b,_,S,C;return{c(){e=E("p"),e.textContent="Please select an amount:",n=T(),i=E("div"),r=E("button"),r.textContent="$1",o=T(),s=E("button"),s.textContent="$5",c=T(),l=E("button"),l.textContent="$15",u=T(),h=E("button"),h.textContent="$50",d=T(),f=E("p"),f.textContent="or enter a custom amount:",p=T(),g=E("div"),m=E("input"),v=T(),w=E("div"),y=E("input"),b=T(),_=E("label"),_.innerHTML='<div><i class="fa fa-check"></i></div> \n            <span class="small-caption fine-print">I have read the\n              <a href="#eula" class="link">T&amp;C</a>\n              and\n              <a href="#privacy" class="link">Privacy Policy</a>\n              and approve this Transaction</span>',A(e,"class","small-caption"),A(r,"class","action"),r.value="1.00",A(s,"class","action"),s.value="5.00",A(l,"class","action"),l.value="15.00",A(h,"class","action"),h.value="50.00",A(i,"class","wui-actions quick-set"),A(f,"class","small-caption"),A(m,"id","amount"),A(m,"class","field-cntrl"),m.required=!0,A(m,"type","number"),A(m,"min","0.00"),A(m,"max",t[6]),A(m,"step","1.00"),A(m,"pattern","[0-9]?\\.[0-9]2"),A(m,"placeholder","0.00"),A(g,"class","balance-input"),A(y,"type","checkbox"),A(y,"id","accept_terms"),A(y,"name","checkbox"),A(y,"data-name","Checkbox"),y.required=!0,A(_,"for","accept_terms"),A(w,"class","terms")},m(a,$){k(a,e,$),k(a,n,$),k(a,i,$),x(i,r),x(i,o),x(i,s),x(i,c),x(i,l),x(i,u),x(i,h),k(a,d,$),k(a,f,$),k(a,p,$),k(a,g,$),x(g,m),R(m,t[4]),k(a,v,$),k(a,w,$),x(w,y),y.checked=t[5],x(w,b),x(w,_),S||(C=[P(r,"click",M(t[8])),P(s,"click",M(t[8])),P(l,"click",M(t[8])),P(h,"click",M(t[8])),P(m,"input",t[11]),P(y,"change",t[12])],S=!0)},p(t,e){64&e&&A(m,"max",t[6]),16&e&&U(m.value)!==t[4]&&R(m,t[4]),32&e&&(y.checked=t[5])},d(t){t&&$(e),t&&$(n),t&&$(i),t&&$(d),t&&$(f),t&&$(p),t&&$(g),t&&$(v),t&&$(w),S=!1,a(C)}}}function tr(t){let e,n=!t[1]&&Zi(t);return{c(){e=E("div"),n&&n.c(),A(e,"slot","prepend")},m(t,i){k(t,e,i),n&&n.m(e,null)},p(t,i){t[1]?n&&(n.d(1),n=null):n?n.p(t,i):(n=Zi(t),n.c(),n.m(e,null))},d(t){t&&$(e),n&&n.d()}}}function er(t){let e,n,i,r,o;return{c(){e=E("button"),n=S("Continue"),A(e,"class","action featured primary"),e.disabled=i=!t[5]},m(i,s){k(i,e,s),x(e,n),r||(o=P(e,"click",M(t[9])),r=!0)},p(t,n){32&n&&i!==(i=!t[5])&&(e.disabled=i)},d(t){t&&$(e),r=!1,o()}}}function nr(t){let e,n,i,r,o,s=!t[1]&&er(t);return{c(){e=E("div"),s&&s.c(),n=T(),i=E("button"),i.textContent="Back",A(i,"class","action"),A(e,"slot","actions")},m(a,c){k(a,e,c),s&&s.m(e,null),x(e,n),x(e,i),r||(o=P(i,"click",M(t[7])),r=!0)},p(t,i){t[1]?s&&(s.d(1),s=null):s?s.p(t,i):(s=er(t),s.c(),s.m(e,n))},d(t){t&&$(e),s&&s.d(),r=!1,o()}}}function ir(t){let e;return{c(){e=T()},m(t,n){k(t,e,n)},p:i,d(t){t&&$(e)}}}function rr(t){let e,n,i=t[0]&&Vi(t);return{c(){i&&i.c(),e=C()},m(t,r){i&&i.m(t,r),k(t,e,r),n=!0},p(t,[n]){t[0]?i?(i.p(t,n),1&n&&ct(i,1)):(i=Vi(t),i.c(),ct(i,1),i.m(e.parentNode,e)):i&&(st(),lt(i,1,1,(()=>{i=null})),at())},i(t){n||(ct(i),n=!0)},o(t){lt(i),n=!1},d(t){i&&i.d(t),t&&$(e)}}}let or=!0;function sr(t,e,n){let i;d(t,ze,(t=>n(6,i=t)));var r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))};const o=z();let s,a,c,l,{visible:u=!1}=e,f=!1,p=!1;const g=()=>r(void 0,void 0,void 0,(function*(){console.log("cashier complete"),Fe.set("panelMode"),n(1,f=!1)}));return He.subscribe((t=>{"cashier"===t?(n(0,u=!0),h(Fe),a=a||"panelMode",Fe.set(a)):n(0,u=!1)})),t.$$set=t=>{"visible"in t&&n(0,u=t.visible)},[u,f,s,c,l,p,i,()=>r(void 0,void 0,void 0,(function*(){a="",n(1,f=!1),He.set("home")})),t=>{console.log(t.target.value),n(4,l=Number.parseFloat(t.target.value))},()=>r(void 0,void 0,void 0,(function*(){var t;try{Ke.set(!0),Fe.set("frameMode"),a="frameMode",n(1,f=!0),yield c.cashIn(l)}catch(e){console.log(e,e.stack),Ke.set(!1),((t,e="warn")=>{r(void 0,void 0,void 0,(function*(){console.log(t),o("dialog",{body:t,type:e})}))})(null!==(t=e.message)&&void 0!==t?t:"Could not add funds at this time."),g()}})),g,function(){l=U(this.value),n(4,l)},function(){p=this.checked,n(5,p)},function(t){F[t?"unshift":"push"]((()=>{s=t,n(2,s)}))},function(t){F[t?"unshift":"push"]((()=>{c=t,n(3,c)}))},function(e){G(t,e)}]}class ar extends mt{constructor(t){super(),gt(this,t,sr,rr,l,{visible:0})}}function cr(t){let e,n,i,r,o,s,a={balance:t[5],hideDefaultActions:pr,$$slots:{default:[dr],actions:[hr],prepend:[ur]},$$scope:{ctx:t}};e=new Dn({props:a}),t[12](e);return o=new Qi({props:{}}),t[13](o),o.$on("dialog",t[14]),o.$on("complete",t[9]),{c(){ht(e.$$.fragment),n=T(),i=E("section"),r=E("div"),ht(o.$$.fragment),A(r,"class","contentBox"),A(i,"class","frameBox")},m(t,a){dt(e,t,a),k(t,n,a),k(t,i,a),x(i,r),dt(o,r,null),s=!0},p(t,n){const i={};32&n&&(i.balance=t[5]),2097226&n&&(i.$$scope={dirty:n,ctx:t}),e.$set(i);o.$set({})},i(t){s||(ct(e.$$.fragment,t),ct(o.$$.fragment,t),s=!0)},o(t){lt(e.$$.fragment,t),lt(o.$$.fragment,t),s=!1},d(r){t[12](null),ft(e,r),r&&$(n),r&&$(i),t[13](null),ft(o)}}}function lr(t){let e,n,i,r,o,s,c,l,u,h,d,f,p,g;return{c(){e=E("div"),n=E("label"),n.innerHTML='<span class="field-label">Amount to withdrawal</span> \n            <span class="field-hint">Enter amount to withdrawal.</span>',i=T(),r=E("div"),o=E("input"),s=T(),c=E("div"),c.textContent="CAUTION: Clicking submit will transfer the game tokens.",l=T(),u=E("div"),h=E("button"),d=S("Submit"),A(n,"for","amount"),A(o,"id","amount"),A(o,"class","field-cntrl"),o.required=!0,A(o,"type","number"),A(o,"min","0.00"),A(o,"max",t[6]),A(o,"step","1.00"),A(o,"pattern","[0-9]?\\.[0-9]2"),A(o,"placeholder","0.00"),A(r,"class","balance-input"),A(e,"class","wui-field"),A(c,"class","small-caption fine-print"),A(h,"class","action featured primary"),h.disabled=f=t[6]<=0||t[3]<=0,A(u,"class","wui-actions")},m(a,f){k(a,e,f),x(e,n),x(e,i),x(e,r),x(r,o),R(o,t[3]),k(a,s,f),k(a,c,f),k(a,l,f),k(a,u,f),x(u,h),x(h,d),p||(g=[P(o,"input",t[11]),P(o,"input",t[10]),P(h,"click",M(t[8]))],p=!0)},p(t,e){64&e&&A(o,"max",t[6]),8&e&&U(o.value)!==t[3]&&R(o,t[3]),72&e&&f!==(f=t[6]<=0||t[3]<=0)&&(h.disabled=f)},d(t){t&&$(e),t&&$(s),t&&$(c),t&&$(l),t&&$(u),p=!1,a(g)}}}function ur(t){let e,n=!t[1]&&lr(t);return{c(){e=E("div"),n&&n.c(),A(e,"slot","prepend")},m(t,i){k(t,e,i),n&&n.m(e,null)},p(t,i){t[1]?n&&(n.d(1),n=null):n?n.p(t,i):(n=lr(t),n.c(),n.m(e,null))},d(t){t&&$(e),n&&n.d()}}}function hr(t){let e,n,r,o;return{c(){e=E("div"),n=E("button"),n.textContent="Back",A(n,"class","action featured"),A(e,"slot","actions")},m(i,s){k(i,e,s),x(e,n),r||(o=P(n,"click",M(t[7])),r=!0)},p:i,d(t){t&&$(e),r=!1,o()}}}function dr(t){let e;return{c(){e=T()},m(t,n){k(t,e,n)},p:i,d(t){t&&$(e)}}}function fr(t){let e,n,i=t[0]&&cr(t);return{c(){i&&i.c(),e=C()},m(t,r){i&&i.m(t,r),k(t,e,r),n=!0},p(t,[n]){t[0]?i?(i.p(t,n),1&n&&ct(i,1)):(i=cr(t),i.c(),ct(i,1),i.m(e.parentNode,e)):i&&(st(),lt(i,1,1,(()=>{i=null})),at())},i(t){n||(ct(i),n=!0)},o(t){lt(i),n=!1},d(t){i&&i.d(t),t&&$(e)}}}let pr=!0;function gr(t,e,n){let i;d(t,ze,(t=>n(6,i=t)));var r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))};const o=z();let s,a,c,l,{visible:u=!1}=e,f=!1,p=0;return ze.subscribe((t=>{n(5,l=t-p)})),He.subscribe((t=>{"cashout"===t?(n(0,u=!0),h(Fe),a=a||"panelMode",Fe.set(a)):n(0,u=!1)})),t.$$set=t=>{"visible"in t&&n(0,u=t.visible)},[u,f,s,p,c,l,i,()=>r(void 0,void 0,void 0,(function*(){n(3,p=0),n(5,l=h(ze)),a="",n(1,f=!1),He.set("home")})),()=>r(void 0,void 0,void 0,(function*(){var t;try{Ke.set(!0);const t=h(ze);if(p<=0||p>t)throw new Error(`Amount must be greater than 0 and less than ${t}`);Fe.set("frameMode"),a="frameMode",n(1,f=!0),yield c.cashOut(p)}catch(e){console.log(e,e.stack),Ke.set(!1),((t,e="warn")=>{r(void 0,void 0,void 0,(function*(){console.log(t),o("dialog",{body:t,type:e})}))})(null!==(t=e.message)&&void 0!==t?t:"Could not cash out funds at this time.")}})),()=>r(void 0,void 0,void 0,(function*(){Fe.set("panelMode"),n(1,f=!1)})),t=>r(void 0,void 0,void 0,(function*(){let e=h(ze);t.target.value>e&&(t.target.value=n(3,p=e)),n(5,l=e-p)})),function(){p=U(this.value),n(3,p)},function(t){F[t?"unshift":"push"]((()=>{s=t,n(2,s)}))},function(t){F[t?"unshift":"push"]((()=>{c=t,n(4,c)}))},function(e){G(t,e)}]}class mr extends mt{constructor(t){super(),gt(this,t,gr,fr,l,{visible:0})}}function vr(t){let e,n,i,r;return{c(){e=E("div"),n=S("GEO:\n        "),i=E("pre"),r=S(t[1]),A(e,"class","geo svelte-1hqoobi"),O(e,"display","none")},m(t,o){k(t,e,o),x(e,n),x(e,i),x(i,r)},p(t,e){2&e&&L(r,t[1])},d(t){t&&$(e)}}}function wr(t){let e,n,i,r,o,s,a,c,l,u,h,d,f,p;return e=new on({props:{}}),t[3](e),i=new cn({}),o=new mn({}),l=new Yn({props:{$$slots:{default:[vr]},$$scope:{ctx:t}}}),h=new ar({}),h.$on("dialog",t[2]),f=new mr({}),f.$on("dialog",t[2]),{c(){ht(e.$$.fragment),n=T(),ht(i.$$.fragment),r=T(),ht(o.$$.fragment),s=T(),a=E("div"),c=E("div"),ht(l.$$.fragment),u=T(),ht(h.$$.fragment),d=T(),ht(f.$$.fragment),A(c,"class","main games"),A(a,"class","content")},m(t,g){dt(e,t,g),k(t,n,g),dt(i,t,g),k(t,r,g),dt(o,t,g),k(t,s,g),k(t,a,g),x(a,c),dt(l,c,null),x(c,u),dt(h,c,null),x(c,d),dt(f,c,null),p=!0},p(t,[n]){e.$set({});const i={};258&n&&(i.$$scope={dirty:n,ctx:t}),l.$set(i)},i(t){p||(ct(e.$$.fragment,t),ct(i.$$.fragment,t),ct(o.$$.fragment,t),ct(l.$$.fragment,t),ct(h.$$.fragment,t),ct(f.$$.fragment,t),p=!0)},o(t){lt(e.$$.fragment,t),lt(i.$$.fragment,t),lt(o.$$.fragment,t),lt(l.$$.fragment,t),lt(h.$$.fragment,t),lt(f.$$.fragment,t),p=!1},d(c){t[3](null),ft(e,c),c&&$(n),ft(i,c),c&&$(r),ft(o,c),c&&$(s),c&&$(a),ft(l),ft(h),ft(f)}}}function yr(t,e,n){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(t){o(t)}}function a(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(s,a)}c((i=i.apply(t,e||[])).next())}))};let r,o="unavailable",s="";W((()=>i(void 0,void 0,void 0,(function*(){Ke.set(!0),Ge.set(!1),We.set("");const t=h(Xe);try{yield t.init()}catch(t){console.error(t)}Ke.set(!1),Ge.set(t.authenticated),t.authenticated?(We.set(t.handle||""),ze.set(yield t.getBalance()),c(),t.on("BalanceUpdated",a),setTimeout(a,5e3)):We.set(""),console.log(`WUI:Authenticated: ${t.handle} as ${t.authenticated}`)}))));const a=()=>i(void 0,void 0,void 0,(function*(){const t=h(Xe);ze.set(yield t.getBalance())})),c=()=>i(void 0,void 0,void 0,(function*(){return h(Xe).getGpsLocation().then((t=>{n(1,o=JSON.stringify(Fi.convertUnityGpsData(t),null,2))})).catch((t=>console.log("GPS RESULTS:",t)))}));Xe.subscribe((t=>{t.on("show",(t=>{if(t.message){let e=t.message;console.log(e.body),r.show({body:e.body,dismissable:!1,duration:5e3,type:"success"===e.theme?"ok":"warn"})}He.set(t.viewName)}))})),He.subscribe((t=>{"menu"===t?Fe.set("menuMode"):(console.log(s),s=t)}));return[r,o,t=>{r.show(t.detail)},function(t){F[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}return new class extends mt{constructor(t){super(),gt(this,t,yr,wr,l,{})}}({target:document.body})}(bsvjs);
